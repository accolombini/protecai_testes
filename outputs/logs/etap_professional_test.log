2025-10-20 11:45:15,632 - __main__ - INFO - 🚀 Starting ETAP Integration Professional Test Suite
2025-10-20 11:45:15,632 - __main__ - INFO - ================================================================================
2025-10-20 11:45:15,632 - __main__ - INFO - 📅 Test Session: 2025-10-20 11:45:15
2025-10-20 11:45:15,632 - __main__ - INFO - 🐘 Database: postgresql://protecai:protecai@localhost:5432/protecai_db
2025-10-20 11:45:15,632 - __main__ - INFO - ================================================================================
2025-10-20 11:45:15,632 - __main__ - INFO - 
🧪 Running: Database Professional Setup
2025-10-20 11:45:15,632 - __main__ - INFO - ------------------------------------------------------------
2025-10-20 11:45:15,632 - __main__ - INFO - 🏗️ Professional Database Setup...
2025-10-20 11:45:15,806 - __main__ - INFO - ✅ Database setup: 16 total tables, 5 ETAP tables
2025-10-20 11:45:15,806 - __main__ - INFO - 📋 ETAP Tables: etap_equipment_configs, etap_field_mappings, etap_import_history, etap_studies, etap_sync_logs
2025-10-20 11:45:15,806 - __main__ - INFO - ✅ Database Professional Setup: PASSED
2025-10-20 11:45:15,806 - __main__ - INFO - 
🧪 Running: CSV Bridge Professional
2025-10-20 11:45:15,806 - __main__ - INFO - ------------------------------------------------------------
2025-10-20 11:45:15,806 - __main__ - INFO - 🔗 Professional CSV Bridge Test...
2025-10-20 11:45:15,807 - __main__ - INFO - 📄 Processing real data: outputs/csv/tela1_params.csv
2025-10-20 11:45:16,023 - api.services.csv_bridge - INFO - Parsed CSV outputs/csv/tela1_params.csv: 338 parameters, device: DeviceType.MICOM_P143
2025-10-20 11:45:16,023 - __main__ - INFO - ✅ tela1_params.csv: micom_p143 - 338 params
2025-10-20 11:45:16,023 - __main__ - INFO - 📄 Processing real data: outputs/csv/tela3_params.csv
2025-10-20 11:45:16,027 - api.services.csv_bridge - INFO - Parsed CSV outputs/csv/tela3_params.csv: 151 parameters, device: DeviceType.EASERGY_P3
2025-10-20 11:45:16,027 - __main__ - INFO - ✅ tela3_params.csv: easergy_p3 - 151 params
2025-10-20 11:45:16,027 - __main__ - INFO - ✅ CSV Bridge: 2 files, 489 total params
2025-10-20 11:45:16,027 - __main__ - INFO - ✅ CSV Bridge Professional: PASSED
2025-10-20 11:45:16,027 - __main__ - INFO - 
🧪 Running: ETAP Service Professional
2025-10-20 11:45:16,027 - __main__ - INFO - ------------------------------------------------------------
2025-10-20 11:45:16,027 - __main__ - INFO - ⚙️ Professional ETAP Service Test...
2025-10-20 11:45:16,053 - api.services.etap_service - INFO - ETAP study created: Professional_Test_MiCOM_P143 (ID: 1)
2025-10-20 11:45:16,053 - __main__ - INFO - ✅ Study created: 1 - Professional_Test_MiCOM_P143
2025-10-20 11:45:16,054 - __main__ - ERROR - ❌ ETAP Service test failed: EtapService.add_equipment_to_study() got an unexpected keyword argument 'device_name'
2025-10-20 11:45:16,054 - __main__ - ERROR - ❌ ETAP Service Professional: FAILED
2025-10-20 11:45:16,054 - __main__ - INFO - 
🧪 Running: Integration Service Professional
2025-10-20 11:45:16,054 - __main__ - INFO - ------------------------------------------------------------
2025-10-20 11:45:16,054 - __main__ - INFO - 🔄 Professional Integration Service Test...
2025-10-20 11:45:16,056 - __main__ - INFO - 📝 Created synthetic data: /tmp/synthetic_micom_p143.csv
2025-10-20 11:45:16,057 - api.services.csv_bridge - INFO - Parsed CSV /tmp/professional_test.csv: 15 parameters, device: DeviceType.MICOM_P143
2025-10-20 11:45:16,060 - api.services.etap_service - INFO - ETAP study created: Professional_Integration_Test (ID: 2)
2025-10-20 11:45:16,067 - api.services.etap_service - INFO - Equipment added to ETAP study 2: 1
2025-10-20 11:45:16,069 - api.services.etap_integration_service - ERROR - Error importing CSV professional_test.csv: type object 'StudyStatus' has no attribute 'CONFIGURED'
2025-10-20 11:45:16,070 - __main__ - ERROR - ❌ Integration Service test failed: 
2025-10-20 11:45:16,070 - __main__ - ERROR - ❌ Integration Service Professional: FAILED
2025-10-20 11:45:16,070 - __main__ - INFO - 
🧪 Running: Database Queries Professional
2025-10-20 11:45:16,070 - __main__ - INFO - ------------------------------------------------------------
2025-10-20 11:45:16,070 - __main__ - INFO - 🗃️ Professional Database Queries Test...
2025-10-20 11:45:16,075 - __main__ - INFO - 📊 Database Stats: 2 studies, 1 equipment
2025-10-20 11:45:16,075 - __main__ - INFO -   📋 Study 2: Professional_Integration_Test (COORDINATION) - 1 equipment - DRAFT
2025-10-20 11:45:16,075 - __main__ - INFO -   📋 Study 1: Professional_Test_MiCOM_P143 (COORDINATION) - 0 equipment - DRAFT
2025-10-20 11:45:16,075 - __main__ - INFO - ✅ Database Queries: All tests passed
2025-10-20 11:45:16,075 - __main__ - INFO - ✅ Database Queries Professional: PASSED
2025-10-20 11:45:16,075 - __main__ - INFO - 
================================================================================
2025-10-20 11:45:16,075 - __main__ - INFO - 📊 PROFESSIONAL TEST REPORT - ETAP INTEGRATION FASE 1
2025-10-20 11:45:16,075 - __main__ - INFO - ================================================================================
2025-10-20 11:45:16,075 - __main__ - INFO - 🎯 Tests Passed: 3/5 (60.0%)
2025-10-20 11:45:16,075 - __main__ - INFO - ⏱️ Execution Time: 0.44 seconds
2025-10-20 11:45:16,075 - __main__ - INFO - 📈 Quality Grade: B
2025-10-20 11:45:16,075 - __main__ - INFO - 🏆 Status: ⚠️ NEEDS MINOR IMPROVEMENTS
2025-10-20 11:45:16,076 - __main__ - INFO - 📄 Professional Report: outputs/logs/etap_professional_report_20251020_114515.json
2025-10-20 11:45:16,076 - __main__ - INFO - ================================================================================
2025-10-20 11:45:16,076 - __main__ - INFO - 
🏁 Professional Test Suite completed
2025-10-20 11:45:16,076 - __main__ - INFO - 🎯 Exit Code: 1
2025-10-20 11:45:16,076 - __main__ - INFO - 📊 Grade: NEEDS IMPROVEMENT
2025-10-20 11:47:32,579 - __main__ - INFO - 🚀 Starting ETAP Integration Professional Test Suite
2025-10-20 11:47:32,580 - __main__ - INFO - ================================================================================
2025-10-20 11:47:32,581 - __main__ - INFO - 📅 Test Session: 2025-10-20 11:47:32
2025-10-20 11:47:32,581 - __main__ - INFO - 🐘 Database: postgresql://protecai:protecai@localhost:5432/protecai_db
2025-10-20 11:47:32,581 - __main__ - INFO - ================================================================================
2025-10-20 11:47:32,581 - __main__ - INFO - 
🧪 Running: Database Professional Setup
2025-10-20 11:47:32,581 - __main__ - INFO - ------------------------------------------------------------
2025-10-20 11:47:32,581 - __main__ - INFO - 🏗️ Professional Database Setup...
2025-10-20 11:47:32,755 - __main__ - INFO - ✅ Database setup: 16 total tables, 5 ETAP tables
2025-10-20 11:47:32,755 - __main__ - INFO - 📋 ETAP Tables: etap_equipment_configs, etap_field_mappings, etap_import_history, etap_studies, etap_sync_logs
2025-10-20 11:47:32,755 - __main__ - INFO - ✅ Database Professional Setup: PASSED
2025-10-20 11:47:32,755 - __main__ - INFO - 
🧪 Running: CSV Bridge Professional
2025-10-20 11:47:32,755 - __main__ - INFO - ------------------------------------------------------------
2025-10-20 11:47:32,755 - __main__ - INFO - 🔗 Professional CSV Bridge Test...
2025-10-20 11:47:32,755 - __main__ - INFO - 📄 Processing real data: outputs/csv/tela1_params.csv
2025-10-20 11:47:32,988 - api.services.csv_bridge - INFO - Parsed CSV outputs/csv/tela1_params.csv: 338 parameters, device: DeviceType.MICOM_P143
2025-10-20 11:47:32,988 - __main__ - INFO - ✅ tela1_params.csv: micom_p143 - 338 params
2025-10-20 11:47:32,988 - __main__ - INFO - 📄 Processing real data: outputs/csv/tela3_params.csv
2025-10-20 11:47:32,991 - api.services.csv_bridge - INFO - Parsed CSV outputs/csv/tela3_params.csv: 151 parameters, device: DeviceType.EASERGY_P3
2025-10-20 11:47:32,991 - __main__ - INFO - ✅ tela3_params.csv: easergy_p3 - 151 params
2025-10-20 11:47:32,991 - __main__ - INFO - ✅ CSV Bridge: 2 files, 489 total params
2025-10-20 11:47:32,992 - __main__ - INFO - ✅ CSV Bridge Professional: PASSED
2025-10-20 11:47:32,992 - __main__ - INFO - 
🧪 Running: ETAP Service Professional
2025-10-20 11:47:32,992 - __main__ - INFO - ------------------------------------------------------------
2025-10-20 11:47:32,992 - __main__ - INFO - ⚙️ Professional ETAP Service Test...
2025-10-20 11:47:33,022 - api.services.etap_service - INFO - ETAP study created: Professional_Test_MiCOM_P143 (ID: 1)
2025-10-20 11:47:33,022 - __main__ - INFO - ✅ Study created: 1 - Professional_Test_MiCOM_P143
2025-10-20 11:47:33,028 - api.services.etap_service - INFO - Equipment added to ETAP study 1: 1
2025-10-20 11:47:33,028 - __main__ - INFO - ✅ Equipment added: 1
2025-10-20 11:47:33,038 - __main__ - ERROR - ❌ ETAP Service test failed: 'EtapStudy' object is not subscriptable
2025-10-20 11:47:33,038 - __main__ - ERROR - ❌ ETAP Service Professional: FAILED
2025-10-20 11:47:33,038 - __main__ - INFO - 
🧪 Running: Integration Service Professional
2025-10-20 11:47:33,038 - __main__ - INFO - ------------------------------------------------------------
2025-10-20 11:47:33,038 - __main__ - INFO - 🔄 Professional Integration Service Test...
2025-10-20 11:47:33,040 - __main__ - INFO - 📝 Created synthetic data: /tmp/synthetic_micom_p143.csv
2025-10-20 11:47:33,041 - api.services.csv_bridge - INFO - Parsed CSV /tmp/professional_test.csv: 15 parameters, device: DeviceType.MICOM_P143
2025-10-20 11:47:33,045 - api.services.etap_service - INFO - ETAP study created: Professional_Integration_Test (ID: 2)
2025-10-20 11:47:33,049 - api.services.etap_service - INFO - Equipment added to ETAP study 2: 2
2025-10-20 11:47:33,056 - api.services.etap_integration_service - INFO - Successfully imported CSV to study 2: professional_test.csv
2025-10-20 11:47:33,056 - __main__ - INFO - ✅ CSV imported: Study 2
2025-10-20 11:47:33,056 - __main__ - INFO - 📊 Device: micom_p143
2025-10-20 11:47:33,056 - __main__ - INFO - 📈 Parameters: 15
2025-10-20 11:47:33,060 - api.services.etap_integration_service - ERROR - Error exporting study 2: 'EtapService' object has no attribute 'get_equipment_configurations'
2025-10-20 11:47:33,060 - __main__ - ERROR - ❌ Integration Service test failed: 
2025-10-20 11:47:33,060 - __main__ - ERROR - ❌ Integration Service Professional: FAILED
2025-10-20 11:47:33,060 - __main__ - INFO - 
🧪 Running: Database Queries Professional
2025-10-20 11:47:33,060 - __main__ - INFO - ------------------------------------------------------------
2025-10-20 11:47:33,060 - __main__ - INFO - 🗃️ Professional Database Queries Test...
2025-10-20 11:47:33,064 - __main__ - INFO - 📊 Database Stats: 2 studies, 2 equipment
2025-10-20 11:47:33,064 - __main__ - INFO -   📋 Study 2: Professional_Integration_Test (COORDINATION) - 1 equipment - COMPLETED
2025-10-20 11:47:33,064 - __main__ - INFO -   📋 Study 1: Professional_Test_MiCOM_P143 (COORDINATION) - 1 equipment - DRAFT
2025-10-20 11:47:33,065 - __main__ - ERROR - ❌ Database queries test failed: unsupported format string passed to NoneType.__format__
2025-10-20 11:47:33,065 - __main__ - ERROR - ❌ Database Queries Professional: FAILED
2025-10-20 11:47:33,065 - __main__ - INFO - 
================================================================================
2025-10-20 11:47:33,065 - __main__ - INFO - 📊 PROFESSIONAL TEST REPORT - ETAP INTEGRATION FASE 1
2025-10-20 11:47:33,065 - __main__ - INFO - ================================================================================
2025-10-20 11:47:33,065 - __main__ - INFO - 🎯 Tests Passed: 2/5 (40.0%)
2025-10-20 11:47:33,065 - __main__ - INFO - ⏱️ Execution Time: 0.49 seconds
2025-10-20 11:47:33,065 - __main__ - INFO - 📈 Quality Grade: C
2025-10-20 11:47:33,065 - __main__ - INFO - 🏆 Status: ❌ REQUIRES SIGNIFICANT FIXES
2025-10-20 11:47:33,065 - __main__ - INFO - 📄 Professional Report: outputs/logs/etap_professional_report_20251020_114732.json
2025-10-20 11:47:33,065 - __main__ - INFO - ================================================================================
2025-10-20 11:47:33,065 - __main__ - INFO - 
🏁 Professional Test Suite completed
2025-10-20 11:47:33,065 - __main__ - INFO - 🎯 Exit Code: 1
2025-10-20 11:47:33,066 - __main__ - INFO - 📊 Grade: NEEDS IMPROVEMENT
