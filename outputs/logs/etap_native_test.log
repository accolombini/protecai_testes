2025-10-20 12:30:54,892 - etap_native_test - INFO - 🚀 Starting etapPy™ API Preparation Test Suite (TODO #6)
2025-10-20 12:30:54,895 - etap_native_test - INFO - ======================================================================
2025-10-20 12:30:54,895 - etap_native_test - INFO - 
🧪 Running: Adapter Factory
2025-10-20 12:30:54,895 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 12:30:54,895 - etap_native_test - INFO - 🏭 Testing Adapter Factory...
2025-10-20 12:30:54,895 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 12:30:54,895 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 12:30:54,895 - etap_native_test - INFO - ✅ CSV Bridge: Connection test passed
2025-10-20 12:30:54,895 - api.services.etap_native_adapter - INFO - 🚧 Native API Adapter: Future implementation
2025-10-20 12:30:54,895 - api.services.etap_native_adapter - INFO - 📡 Configured for: localhost:8080
2025-10-20 12:30:55,897 - api.services.etap_native_adapter - INFO - 📤 Native API Adapter disconnected
2025-10-20 12:30:55,898 - etap_native_test - INFO - ✅ Native API: Connection test passed
2025-10-20 12:30:55,898 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 12:30:56,002 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 12:30:56,004 - etap_native_test - INFO - ✅ Mock Simulator: Connection test passed
2025-10-20 12:30:56,005 - etap_native_test - INFO - 🏭 Adapter Factory: 3 adapters tested
2025-10-20 12:30:56,005 - etap_native_test - INFO - ✅ Adapter Factory: PASSED
2025-10-20 12:30:56,005 - etap_native_test - INFO - 
🧪 Running: Adapter Operations
2025-10-20 12:30:56,005 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 12:30:56,005 - etap_native_test - INFO - ⚙️ Testing Adapter Operations...
2025-10-20 12:30:56,007 - etap_native_test - INFO - 🔧 Testing CSV Bridge...
2025-10-20 12:30:56,007 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 12:30:56,109 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: b25392ba-b7ee-4664-a68b-a8a85fb1e745
2025-10-20 12:30:56,111 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge export completed: outputs/etap_exports/study_test_study_001_d1e8dc59-3790-4450-8a3b-a5091855ee27.csv
2025-10-20 12:30:56,918 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 12:30:56,918 - etap_native_test - ERROR - ❌ CSV Bridge: Operations failed: object of type 'int' has no len()
2025-10-20 12:30:56,918 - etap_native_test - INFO - 🔧 Testing Mock Simulator...
2025-10-20 12:30:56,918 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 12:30:57,465 - api.services.etap_native_adapter - INFO - 🎭 Mock import completed: 324eacc2-8ebe-46c2-91f3-3f817f589089
2025-10-20 12:30:59,967 - api.services.etap_native_adapter - INFO - 🔍 Mock coordination analysis: 1 pairs
2025-10-20 12:31:01,469 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 12:31:01,469 - etap_native_test - INFO - ✅ Mock Simulator: All operations completed
2025-10-20 12:31:01,469 - etap_native_test - INFO - ⚙️ Adapter Operations: 1/2 successful
2025-10-20 12:31:01,469 - etap_native_test - INFO - ✅ Adapter Operations: PASSED
2025-10-20 12:31:01,469 - etap_native_test - INFO - 
🧪 Running: Native Service
2025-10-20 12:31:01,469 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 12:31:01,469 - etap_native_test - INFO - 🚀 Testing Native Service...
2025-10-20 12:31:01,469 - etap_native_test - INFO - 🔍 Testing auto-detection...
2025-10-20 12:31:01,469 - api.services.etap_native_service - INFO - 🔍 Auto-detecting best ETAP connection...
2025-10-20 12:31:01,469 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 12:31:01,469 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 12:31:01,469 - api.services.etap_native_adapter - INFO - 🚧 Native API Adapter: Future implementation
2025-10-20 12:31:01,469 - api.services.etap_native_adapter - INFO - 📡 Configured for: localhost:8080
2025-10-20 12:31:02,470 - api.services.etap_native_adapter - INFO - 📤 Native API Adapter disconnected
2025-10-20 12:31:02,471 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 12:31:02,572 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 12:31:02,572 - api.services.etap_native_adapter - INFO - 🚧 Native API Adapter: Future implementation
2025-10-20 12:31:02,572 - api.services.etap_native_adapter - INFO - 📡 Configured for: None:None
2025-10-20 12:31:03,574 - api.services.etap_native_adapter - INFO - ✅ ETAP Adapter initialized: EtapConnectionType.ETAP_API
2025-10-20 12:31:03,602 - api.services.etap_native_service - ERROR - Sync log failed: 'sync_status' is an invalid keyword argument for EtapSyncLog
2025-10-20 12:31:03,602 - api.services.etap_native_service - INFO - 🚀 ETAP Native Service initialized: EtapConnectionType.ETAP_API
2025-10-20 12:31:03,602 - etap_native_test - INFO - 📥 Testing native import...
2025-10-20 12:31:03,602 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760985063
2025-10-20 12:31:03,602 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 12:31:03,704 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: 26394d9c-5127-47c5-8c64-5d49d68885d3
2025-10-20 12:31:03,704 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 12:31:03,704 - api.services.etap_native_service - ERROR - Sync log failed: 'sync_status' is an invalid keyword argument for EtapSyncLog
2025-10-20 12:31:03,704 - etap_native_test - INFO - 📤 Testing native export...
2025-10-20 12:31:03,704 - api.services.etap_native_service - INFO - 📊 Fallback export: test_study
2025-10-20 12:31:03,755 - api.services.etap_service - ERROR - Database error getting ETAP study test_study: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "test_study"
LINE 3: WHERE relay_configs.etap_studies.id = 'test_study' 
                                              ^

[SQL: SELECT relay_configs.etap_studies.id AS relay_configs_etap_studies_id, relay_configs.etap_studies.uuid AS relay_configs_etap_studies_uuid, relay_configs.etap_studies.name AS relay_configs_etap_studies_name, relay_configs.etap_studies.description AS relay_configs_etap_studies_description, relay_configs.etap_studies.study_type AS relay_configs_etap_studies_study_type, relay_configs.etap_studies.status AS relay_configs_etap_studies_status, relay_configs.etap_studies.plant_reference AS relay_configs_etap_studies_plant_reference, relay_configs.etap_studies.project_code AS relay_configs_etap_studies_project_code, relay_configs.etap_studies.revision AS relay_configs_etap_studies_revision, relay_configs.etap_studies.protection_standard AS relay_configs_etap_studies_protection_standard, relay_configs.etap_studies.frequency AS relay_configs_etap_studies_frequency, relay_configs.etap_studies.base_voltage AS relay_configs_etap_studies_base_voltage, relay_configs.etap_studies.base_power AS relay_configs_etap_studies_base_power, relay_configs.etap_studies.created_by AS relay_configs_etap_studies_created_by, relay_configs.etap_studies.created_at AS relay_configs_etap_studies_created_at, relay_configs.etap_studies.updated_at AS relay_configs_etap_studies_updated_at, relay_configs.etap_studies.completed_at AS relay_configs_etap_studies_completed_at, relay_configs.etap_studies.study_config AS relay_configs_etap_studies_study_config 
FROM relay_configs.etap_studies 
WHERE relay_configs.etap_studies.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'test_study', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-10-20 12:31:03,755 - api.services.etap_integration_service - ERROR - Error exporting study test_study: Failed to get study: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "test_study"
LINE 3: WHERE relay_configs.etap_studies.id = 'test_study' 
                                              ^

[SQL: SELECT relay_configs.etap_studies.id AS relay_configs_etap_studies_id, relay_configs.etap_studies.uuid AS relay_configs_etap_studies_uuid, relay_configs.etap_studies.name AS relay_configs_etap_studies_name, relay_configs.etap_studies.description AS relay_configs_etap_studies_description, relay_configs.etap_studies.study_type AS relay_configs_etap_studies_study_type, relay_configs.etap_studies.status AS relay_configs_etap_studies_status, relay_configs.etap_studies.plant_reference AS relay_configs_etap_studies_plant_reference, relay_configs.etap_studies.project_code AS relay_configs_etap_studies_project_code, relay_configs.etap_studies.revision AS relay_configs_etap_studies_revision, relay_configs.etap_studies.protection_standard AS relay_configs_etap_studies_protection_standard, relay_configs.etap_studies.frequency AS relay_configs_etap_studies_frequency, relay_configs.etap_studies.base_voltage AS relay_configs_etap_studies_base_voltage, relay_configs.etap_studies.base_power AS relay_configs_etap_studies_base_power, relay_configs.etap_studies.created_by AS relay_configs_etap_studies_created_by, relay_configs.etap_studies.created_at AS relay_configs_etap_studies_created_at, relay_configs.etap_studies.updated_at AS relay_configs_etap_studies_updated_at, relay_configs.etap_studies.completed_at AS relay_configs_etap_studies_completed_at, relay_configs.etap_studies.study_config AS relay_configs_etap_studies_study_config 
FROM relay_configs.etap_studies 
WHERE relay_configs.etap_studies.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'test_study', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-10-20 12:31:03,755 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 12:31:03,756 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge export completed: outputs/etap_exports/study_test_study_115a0d3e-c21a-4362-a9a6-0d7c8eb61ec5.csv
2025-10-20 12:31:03,756 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 12:31:03,756 - api.services.etap_native_service - ERROR - Sync log failed: 'sync_status' is an invalid keyword argument for EtapSyncLog
2025-10-20 12:31:03,756 - etap_native_test - INFO - 🔍 Testing coordination analysis...
2025-10-20 12:31:03,756 - api.services.etap_native_service - ERROR - Coordination analysis failed: invalid literal for int() with base 10: 'test_study'
2025-10-20 12:31:03,756 - etap_native_test - INFO - 🎯 Testing selectivity analysis...
2025-10-20 12:31:03,756 - api.services.etap_native_service - ERROR - Selectivity analysis failed: invalid literal for int() with base 10: 'test_study'
2025-10-20 12:31:03,756 - etap_native_test - INFO - 🚀 Native Service: 2/4 operations successful
2025-10-20 12:31:03,756 - etap_native_test - INFO - ✅ Native Service: PASSED
2025-10-20 12:31:03,756 - etap_native_test - INFO - 
🧪 Running: Capability Tests
2025-10-20 12:31:03,756 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 12:31:03,756 - etap_native_test - INFO - 🧪 Testing Capability Tests...
2025-10-20 12:31:03,757 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 12:31:03,858 - api.services.etap_native_adapter - INFO - ✅ ETAP Adapter initialized: EtapConnectionType.MOCK_SIMULATOR
2025-10-20 12:31:03,858 - api.services.etap_native_service - ERROR - Sync log failed: 'sync_status' is an invalid keyword argument for EtapSyncLog
2025-10-20 12:31:03,858 - api.services.etap_native_service - INFO - 🚀 ETAP Native Service initialized: EtapConnectionType.MOCK_SIMULATOR
2025-10-20 12:31:03,858 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 12:31:03,858 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 12:31:03,858 - api.services.etap_native_adapter - INFO - 🚧 Native API Adapter: Future implementation
2025-10-20 12:31:03,858 - api.services.etap_native_adapter - INFO - 📡 Configured for: localhost:8080
2025-10-20 12:31:04,860 - api.services.etap_native_adapter - INFO - 📤 Native API Adapter disconnected
2025-10-20 12:31:04,867 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 12:31:04,968 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 12:31:04,971 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760985064
2025-10-20 12:31:04,974 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 12:31:05,083 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: 9e1e6d4b-8f76-457e-876a-7951bd6d59ac
2025-10-20 12:31:05,083 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 12:31:05,084 - api.services.etap_native_service - ERROR - Sync log failed: 'sync_status' is an invalid keyword argument for EtapSyncLog
2025-10-20 12:31:05,084 - api.services.etap_native_service - INFO - 📊 Fallback export: test_study
2025-10-20 12:31:05,132 - api.services.etap_service - ERROR - Database error getting ETAP study test_study: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "test_study"
LINE 3: WHERE relay_configs.etap_studies.id = 'test_study' 
                                              ^

[SQL: SELECT relay_configs.etap_studies.id AS relay_configs_etap_studies_id, relay_configs.etap_studies.uuid AS relay_configs_etap_studies_uuid, relay_configs.etap_studies.name AS relay_configs_etap_studies_name, relay_configs.etap_studies.description AS relay_configs_etap_studies_description, relay_configs.etap_studies.study_type AS relay_configs_etap_studies_study_type, relay_configs.etap_studies.status AS relay_configs_etap_studies_status, relay_configs.etap_studies.plant_reference AS relay_configs_etap_studies_plant_reference, relay_configs.etap_studies.project_code AS relay_configs_etap_studies_project_code, relay_configs.etap_studies.revision AS relay_configs_etap_studies_revision, relay_configs.etap_studies.protection_standard AS relay_configs_etap_studies_protection_standard, relay_configs.etap_studies.frequency AS relay_configs_etap_studies_frequency, relay_configs.etap_studies.base_voltage AS relay_configs_etap_studies_base_voltage, relay_configs.etap_studies.base_power AS relay_configs_etap_studies_base_power, relay_configs.etap_studies.created_by AS relay_configs_etap_studies_created_by, relay_configs.etap_studies.created_at AS relay_configs_etap_studies_created_at, relay_configs.etap_studies.updated_at AS relay_configs_etap_studies_updated_at, relay_configs.etap_studies.completed_at AS relay_configs_etap_studies_completed_at, relay_configs.etap_studies.study_config AS relay_configs_etap_studies_study_config 
FROM relay_configs.etap_studies 
WHERE relay_configs.etap_studies.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'test_study', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-10-20 12:31:05,133 - api.services.etap_integration_service - ERROR - Error exporting study test_study: Failed to get study: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "test_study"
LINE 3: WHERE relay_configs.etap_studies.id = 'test_study' 
                                              ^

[SQL: SELECT relay_configs.etap_studies.id AS relay_configs_etap_studies_id, relay_configs.etap_studies.uuid AS relay_configs_etap_studies_uuid, relay_configs.etap_studies.name AS relay_configs_etap_studies_name, relay_configs.etap_studies.description AS relay_configs_etap_studies_description, relay_configs.etap_studies.study_type AS relay_configs_etap_studies_study_type, relay_configs.etap_studies.status AS relay_configs_etap_studies_status, relay_configs.etap_studies.plant_reference AS relay_configs_etap_studies_plant_reference, relay_configs.etap_studies.project_code AS relay_configs_etap_studies_project_code, relay_configs.etap_studies.revision AS relay_configs_etap_studies_revision, relay_configs.etap_studies.protection_standard AS relay_configs_etap_studies_protection_standard, relay_configs.etap_studies.frequency AS relay_configs_etap_studies_frequency, relay_configs.etap_studies.base_voltage AS relay_configs_etap_studies_base_voltage, relay_configs.etap_studies.base_power AS relay_configs_etap_studies_base_power, relay_configs.etap_studies.created_by AS relay_configs_etap_studies_created_by, relay_configs.etap_studies.created_at AS relay_configs_etap_studies_created_at, relay_configs.etap_studies.updated_at AS relay_configs_etap_studies_updated_at, relay_configs.etap_studies.completed_at AS relay_configs_etap_studies_completed_at, relay_configs.etap_studies.study_config AS relay_configs_etap_studies_study_config 
FROM relay_configs.etap_studies 
WHERE relay_configs.etap_studies.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'test_study', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-10-20 12:31:05,135 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 12:31:05,136 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge export completed: outputs/etap_exports/study_test_study_3d994346-806f-453d-af07-03be2d1e54d3.csv
2025-10-20 12:31:05,136 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 12:31:05,136 - api.services.etap_native_service - ERROR - Sync log failed: 'sync_status' is an invalid keyword argument for EtapSyncLog
2025-10-20 12:31:05,136 - api.services.etap_native_service - INFO - 📊 Fallback coordination analysis: test_study
2025-10-20 12:31:05,136 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 12:31:07,250 - api.services.etap_native_adapter - INFO - 🔍 Mock coordination analysis: 0 pairs
2025-10-20 12:31:07,289 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 12:31:07,302 - api.services.etap_native_service - INFO - 💾 Syncing coordination results to database...
2025-10-20 12:31:07,302 - api.services.etap_native_service - ERROR - Sync log failed: 'sync_status' is an invalid keyword argument for EtapSyncLog
2025-10-20 12:31:07,303 - api.services.etap_native_service - INFO - 📊 Fallback selectivity analysis: test_study
2025-10-20 12:31:07,304 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 12:31:08,905 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 12:31:08,905 - api.services.etap_native_service - INFO - 💾 Syncing selectivity results to database...
2025-10-20 12:31:08,906 - api.services.etap_native_service - ERROR - Sync log failed: 'sync_status' is an invalid keyword argument for EtapSyncLog
2025-10-20 12:31:08,906 - etap_native_test - INFO - 🧪 Capability Tests: Connectivity=True, Operations=True
2025-10-20 12:31:08,908 - etap_native_test - INFO - ✅ Capability Tests: PASSED
2025-10-20 12:31:08,908 - etap_native_test - INFO - 
🧪 Running: API Endpoints
2025-10-20 12:31:08,908 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 12:31:08,908 - etap_native_test - INFO - 🌐 Testing API Endpoints...
2025-10-20 12:31:13,251 - etap_native_test - INFO - ✅ GET /etap-native/auto-detect: 200
2025-10-20 12:31:15,368 - etap_native_test - INFO - ✅ GET /etap-native/status: 200
2025-10-20 12:31:22,420 - etap_native_test - INFO - ✅ POST /etap-native/test-capabilities: 200
2025-10-20 12:31:24,529 - etap_native_test - INFO - ✅ GET /etap-native/health: 200
2025-10-20 12:31:24,530 - etap_native_test - INFO - 🌐 API Endpoints: 4/4 successful
2025-10-20 12:31:24,530 - etap_native_test - INFO - ✅ API Endpoints: PASSED
2025-10-20 12:31:24,531 - etap_native_test - INFO - 
🧪 Running: Performance Monitoring
2025-10-20 12:31:24,531 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 12:31:24,531 - etap_native_test - INFO - 📈 Testing Performance Monitoring...
2025-10-20 12:31:24,531 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 12:31:24,633 - api.services.etap_native_adapter - INFO - ✅ ETAP Adapter initialized: EtapConnectionType.MOCK_SIMULATOR
2025-10-20 12:31:24,633 - api.services.etap_native_service - ERROR - Sync log failed: 'sync_status' is an invalid keyword argument for EtapSyncLog
2025-10-20 12:31:24,633 - api.services.etap_native_service - INFO - 🚀 ETAP Native Service initialized: EtapConnectionType.MOCK_SIMULATOR
2025-10-20 12:31:24,633 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760985084
2025-10-20 12:31:24,634 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 12:31:24,736 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: 24b19bbb-c355-4d90-8cc6-4e57f0aa750e
2025-10-20 12:31:24,736 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 12:31:24,737 - api.services.etap_native_service - ERROR - Sync log failed: 'sync_status' is an invalid keyword argument for EtapSyncLog
2025-10-20 12:31:24,737 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760985084
2025-10-20 12:31:24,738 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 12:31:24,840 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: 932cfe05-a948-45b3-9bce-012071a29c00
2025-10-20 12:31:24,840 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 12:31:24,841 - api.services.etap_native_service - ERROR - Sync log failed: 'sync_status' is an invalid keyword argument for EtapSyncLog
2025-10-20 12:31:24,841 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760985084
2025-10-20 12:31:24,842 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 12:31:24,945 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: b934d0ab-4281-4d74-86f5-e42003692231
2025-10-20 12:31:24,946 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 12:31:24,947 - api.services.etap_native_service - ERROR - Sync log failed: 'sync_status' is an invalid keyword argument for EtapSyncLog
2025-10-20 12:31:24,947 - etap_native_test - INFO - 📈 Performance Monitoring: Metrics collected=True
2025-10-20 12:31:24,947 - etap_native_test - INFO - ✅ Performance Monitoring: PASSED
2025-10-20 12:31:24,948 - etap_native_test - INFO - 
======================================================================
2025-10-20 12:31:24,948 - etap_native_test - INFO - 📋 FINAL REPORT - etapPy™ API Preparation (TODO #6)
2025-10-20 12:31:24,948 - etap_native_test - INFO - ======================================================================
2025-10-20 12:31:24,948 - etap_native_test - INFO - 🎯 Tests Passed: 6/6 (100.0%)
2025-10-20 12:31:24,948 - etap_native_test - INFO - ⏱️ Duration: 30.1s
2025-10-20 12:31:24,948 - etap_native_test - INFO - 📈 Quality Grade: A+
2025-10-20 12:31:24,949 - etap_native_test - INFO - 🏆 Status: PRODUCTION READY
2025-10-20 12:31:24,949 - etap_native_test - INFO - ======================================================================
2025-10-20 12:31:24,952 - etap_native_test - INFO - 📄 Full report saved: outputs/logs/etap_native_test_report_20251020_153124.json
2025-10-20 14:17:35,846 - etap_native_test - INFO - 🚀 Starting etapPy™ API Preparation Test Suite (TODO #6)
2025-10-20 14:17:35,846 - etap_native_test - INFO - ======================================================================
2025-10-20 14:17:35,846 - etap_native_test - INFO - 
🧪 Running: Adapter Factory
2025-10-20 14:17:35,847 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 14:17:35,847 - etap_native_test - INFO - 🏭 Testing Adapter Factory...
2025-10-20 14:17:35,847 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:17:35,847 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:17:35,847 - etap_native_test - INFO - ✅ CSV Bridge: Connection test passed
2025-10-20 14:17:35,847 - api.services.etap_native_adapter - INFO - 🚧 Native API Adapter: Future implementation
2025-10-20 14:17:35,847 - api.services.etap_native_adapter - INFO - 📡 Configured for: localhost:8080
2025-10-20 14:17:36,849 - api.services.etap_native_adapter - INFO - 📤 Native API Adapter disconnected
2025-10-20 14:17:36,850 - etap_native_test - INFO - ✅ Native API: Connection test passed
2025-10-20 14:17:36,850 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:17:36,952 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 14:17:36,952 - etap_native_test - INFO - ✅ Mock Simulator: Connection test passed
2025-10-20 14:17:36,952 - etap_native_test - INFO - 🏭 Adapter Factory: 3 adapters tested
2025-10-20 14:17:36,953 - etap_native_test - INFO - ✅ Adapter Factory: PASSED
2025-10-20 14:17:36,953 - etap_native_test - INFO - 
🧪 Running: Adapter Operations
2025-10-20 14:17:36,953 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 14:17:36,953 - etap_native_test - INFO - ⚙️ Testing Adapter Operations...
2025-10-20 14:17:36,954 - etap_native_test - INFO - 🔧 Testing CSV Bridge...
2025-10-20 14:17:36,954 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:17:37,056 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: d7326b43-d555-4f97-a894-050d6863068d
2025-10-20 14:17:37,058 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge export completed: outputs/etap_exports/study_test_study_001_baae1933-688f-4ee8-8c10-0b6e36bfe40f.csv
2025-10-20 14:17:37,861 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:17:37,861 - etap_native_test - ERROR - ❌ CSV Bridge: Operations failed: object of type 'int' has no len()
2025-10-20 14:17:37,862 - etap_native_test - INFO - 🔧 Testing Mock Simulator...
2025-10-20 14:17:37,862 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:17:38,409 - api.services.etap_native_adapter - INFO - 🎭 Mock import completed: afbc3914-5a34-4494-a471-8eed0ace74c8
2025-10-20 14:17:40,912 - api.services.etap_native_adapter - INFO - 🔍 Mock coordination analysis: 1 pairs
2025-10-20 14:17:42,414 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 14:17:42,414 - etap_native_test - INFO - ✅ Mock Simulator: All operations completed
2025-10-20 14:17:42,414 - etap_native_test - INFO - ⚙️ Adapter Operations: 1/2 successful
2025-10-20 14:17:42,414 - etap_native_test - INFO - ✅ Adapter Operations: PASSED
2025-10-20 14:17:42,414 - etap_native_test - INFO - 
🧪 Running: Native Service
2025-10-20 14:17:42,414 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 14:17:42,414 - etap_native_test - INFO - 🚀 Testing Native Service...
2025-10-20 14:17:42,414 - etap_native_test - INFO - 🔍 Testing auto-detection...
2025-10-20 14:17:42,414 - api.services.etap_native_service - INFO - 🔍 Auto-detecting best ETAP connection...
2025-10-20 14:17:42,414 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:17:42,415 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:17:42,415 - api.services.etap_native_adapter - INFO - 🚧 Native API Adapter: Future implementation
2025-10-20 14:17:42,415 - api.services.etap_native_adapter - INFO - 📡 Configured for: localhost:8080
2025-10-20 14:17:43,416 - api.services.etap_native_adapter - INFO - 📤 Native API Adapter disconnected
2025-10-20 14:17:43,416 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:17:43,517 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 14:17:43,518 - api.services.etap_native_adapter - INFO - 🚧 Native API Adapter: Future implementation
2025-10-20 14:17:43,518 - api.services.etap_native_adapter - INFO - 📡 Configured for: None:None
2025-10-20 14:17:44,519 - api.services.etap_native_adapter - INFO - ✅ ETAP Adapter initialized: EtapConnectionType.ETAP_API
2025-10-20 14:17:44,672 - api.services.etap_native_service - INFO - 🚀 ETAP Native Service initialized: EtapConnectionType.ETAP_API
2025-10-20 14:17:44,672 - etap_native_test - INFO - 📥 Testing native import...
2025-10-20 14:17:44,672 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760980664
2025-10-20 14:17:44,672 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:17:44,773 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: 611c79e3-e2cf-4c98-bd76-f884ae8d9a8d
2025-10-20 14:17:44,773 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:17:44,780 - etap_native_test - INFO - 📤 Testing native export...
2025-10-20 14:17:44,780 - api.services.etap_native_service - INFO - 📊 Fallback export: test_study
2025-10-20 14:17:44,786 - api.services.etap_service - ERROR - Database error getting ETAP study test_study: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "test_study"
LINE 3: WHERE relay_configs.etap_studies.id = 'test_study' 
                                              ^

[SQL: SELECT relay_configs.etap_studies.id AS relay_configs_etap_studies_id, relay_configs.etap_studies.uuid AS relay_configs_etap_studies_uuid, relay_configs.etap_studies.name AS relay_configs_etap_studies_name, relay_configs.etap_studies.description AS relay_configs_etap_studies_description, relay_configs.etap_studies.study_type AS relay_configs_etap_studies_study_type, relay_configs.etap_studies.status AS relay_configs_etap_studies_status, relay_configs.etap_studies.plant_reference AS relay_configs_etap_studies_plant_reference, relay_configs.etap_studies.project_code AS relay_configs_etap_studies_project_code, relay_configs.etap_studies.revision AS relay_configs_etap_studies_revision, relay_configs.etap_studies.protection_standard AS relay_configs_etap_studies_protection_standard, relay_configs.etap_studies.frequency AS relay_configs_etap_studies_frequency, relay_configs.etap_studies.base_voltage AS relay_configs_etap_studies_base_voltage, relay_configs.etap_studies.base_power AS relay_configs_etap_studies_base_power, relay_configs.etap_studies.created_by AS relay_configs_etap_studies_created_by, relay_configs.etap_studies.created_at AS relay_configs_etap_studies_created_at, relay_configs.etap_studies.updated_at AS relay_configs_etap_studies_updated_at, relay_configs.etap_studies.completed_at AS relay_configs_etap_studies_completed_at, relay_configs.etap_studies.study_config AS relay_configs_etap_studies_study_config 
FROM relay_configs.etap_studies 
WHERE relay_configs.etap_studies.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'test_study', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-10-20 14:17:44,786 - api.services.etap_integration_service - ERROR - Error exporting study test_study: Failed to get study: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "test_study"
LINE 3: WHERE relay_configs.etap_studies.id = 'test_study' 
                                              ^

[SQL: SELECT relay_configs.etap_studies.id AS relay_configs_etap_studies_id, relay_configs.etap_studies.uuid AS relay_configs_etap_studies_uuid, relay_configs.etap_studies.name AS relay_configs_etap_studies_name, relay_configs.etap_studies.description AS relay_configs_etap_studies_description, relay_configs.etap_studies.study_type AS relay_configs_etap_studies_study_type, relay_configs.etap_studies.status AS relay_configs_etap_studies_status, relay_configs.etap_studies.plant_reference AS relay_configs_etap_studies_plant_reference, relay_configs.etap_studies.project_code AS relay_configs_etap_studies_project_code, relay_configs.etap_studies.revision AS relay_configs_etap_studies_revision, relay_configs.etap_studies.protection_standard AS relay_configs_etap_studies_protection_standard, relay_configs.etap_studies.frequency AS relay_configs_etap_studies_frequency, relay_configs.etap_studies.base_voltage AS relay_configs_etap_studies_base_voltage, relay_configs.etap_studies.base_power AS relay_configs_etap_studies_base_power, relay_configs.etap_studies.created_by AS relay_configs_etap_studies_created_by, relay_configs.etap_studies.created_at AS relay_configs_etap_studies_created_at, relay_configs.etap_studies.updated_at AS relay_configs_etap_studies_updated_at, relay_configs.etap_studies.completed_at AS relay_configs_etap_studies_completed_at, relay_configs.etap_studies.study_config AS relay_configs_etap_studies_study_config 
FROM relay_configs.etap_studies 
WHERE relay_configs.etap_studies.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'test_study', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-10-20 14:17:44,786 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:17:44,787 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge export completed: outputs/etap_exports/study_test_study_df589e3f-945b-4715-9b03-d7ec40afcb24.csv
2025-10-20 14:17:44,787 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:17:44,788 - api.services.etap_native_service - ERROR - Sync log failed: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block

[SQL: INSERT INTO relay_configs.etap_sync_logs (sync_type, operation, study_id, status, start_time, end_time, duration, records_processed, records_success, records_failed, source_file, target_file, api_endpoint, api_version, etap_session_id) VALUES (%(sync_type)s, %(operation)s, %(study_id)s, %(status)s, %(start_time)s, %(end_time)s, %(duration)s, %(records_processed)s, %(records_success)s, %(records_failed)s, %(source_file)s, %(target_file)s, %(api_endpoint)s, %(api_version)s, %(etap_session_id)s) RETURNING relay_configs.etap_sync_logs.id]
[parameters: {'sync_type': 'export', 'operation': 'export operation', 'study_id': None, 'status': 'SUCCESS', 'start_time': datetime.datetime(2025, 10, 20, 17, 17, 44, 787294, tzinfo=datetime.timezone.utc), 'end_time': datetime.datetime(2025, 10, 20, 17, 17, 44, 787294, tzinfo=datetime.timezone.utc), 'duration': None, 'records_processed': 1, 'records_success': 0, 'records_failed': 0, 'source_file': None, 'target_file': None, 'api_endpoint': None, 'api_version': None, 'etap_session_id': None}]
(Background on this error at: https://sqlalche.me/e/20/2j85)
2025-10-20 14:17:44,789 - etap_native_test - INFO - 🔍 Testing coordination analysis...
2025-10-20 14:17:44,789 - api.services.etap_native_service - ERROR - Coordination analysis failed: invalid literal for int() with base 10: 'test_study'
2025-10-20 14:17:44,789 - etap_native_test - INFO - 🎯 Testing selectivity analysis...
2025-10-20 14:17:44,789 - api.services.etap_native_service - ERROR - Selectivity analysis failed: invalid literal for int() with base 10: 'test_study'
2025-10-20 14:17:44,789 - etap_native_test - INFO - 🚀 Native Service: 2/4 operations successful
2025-10-20 14:17:44,789 - etap_native_test - INFO - ✅ Native Service: PASSED
2025-10-20 14:17:44,789 - etap_native_test - INFO - 
🧪 Running: Capability Tests
2025-10-20 14:17:44,789 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 14:17:44,789 - etap_native_test - INFO - 🧪 Testing Capability Tests...
2025-10-20 14:17:44,789 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:17:44,890 - api.services.etap_native_adapter - INFO - ✅ ETAP Adapter initialized: EtapConnectionType.MOCK_SIMULATOR
2025-10-20 14:17:44,898 - api.services.etap_native_service - INFO - 🚀 ETAP Native Service initialized: EtapConnectionType.MOCK_SIMULATOR
2025-10-20 14:17:44,899 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:17:44,899 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:17:44,899 - api.services.etap_native_adapter - INFO - 🚧 Native API Adapter: Future implementation
2025-10-20 14:17:44,899 - api.services.etap_native_adapter - INFO - 📡 Configured for: localhost:8080
2025-10-20 14:17:45,900 - api.services.etap_native_adapter - INFO - 📤 Native API Adapter disconnected
2025-10-20 14:17:45,901 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:17:46,002 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 14:17:46,003 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760980666
2025-10-20 14:17:46,003 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:17:46,105 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: dc79492d-4bef-456e-a640-079deedd6f04
2025-10-20 14:17:46,105 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:17:46,116 - api.services.etap_native_service - INFO - 📊 Fallback export: test_study
2025-10-20 14:17:46,120 - api.services.etap_service - ERROR - Database error getting ETAP study test_study: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "test_study"
LINE 3: WHERE relay_configs.etap_studies.id = 'test_study' 
                                              ^

[SQL: SELECT relay_configs.etap_studies.id AS relay_configs_etap_studies_id, relay_configs.etap_studies.uuid AS relay_configs_etap_studies_uuid, relay_configs.etap_studies.name AS relay_configs_etap_studies_name, relay_configs.etap_studies.description AS relay_configs_etap_studies_description, relay_configs.etap_studies.study_type AS relay_configs_etap_studies_study_type, relay_configs.etap_studies.status AS relay_configs_etap_studies_status, relay_configs.etap_studies.plant_reference AS relay_configs_etap_studies_plant_reference, relay_configs.etap_studies.project_code AS relay_configs_etap_studies_project_code, relay_configs.etap_studies.revision AS relay_configs_etap_studies_revision, relay_configs.etap_studies.protection_standard AS relay_configs_etap_studies_protection_standard, relay_configs.etap_studies.frequency AS relay_configs_etap_studies_frequency, relay_configs.etap_studies.base_voltage AS relay_configs_etap_studies_base_voltage, relay_configs.etap_studies.base_power AS relay_configs_etap_studies_base_power, relay_configs.etap_studies.created_by AS relay_configs_etap_studies_created_by, relay_configs.etap_studies.created_at AS relay_configs_etap_studies_created_at, relay_configs.etap_studies.updated_at AS relay_configs_etap_studies_updated_at, relay_configs.etap_studies.completed_at AS relay_configs_etap_studies_completed_at, relay_configs.etap_studies.study_config AS relay_configs_etap_studies_study_config 
FROM relay_configs.etap_studies 
WHERE relay_configs.etap_studies.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'test_study', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-10-20 14:17:46,121 - api.services.etap_integration_service - ERROR - Error exporting study test_study: Failed to get study: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "test_study"
LINE 3: WHERE relay_configs.etap_studies.id = 'test_study' 
                                              ^

[SQL: SELECT relay_configs.etap_studies.id AS relay_configs_etap_studies_id, relay_configs.etap_studies.uuid AS relay_configs_etap_studies_uuid, relay_configs.etap_studies.name AS relay_configs_etap_studies_name, relay_configs.etap_studies.description AS relay_configs_etap_studies_description, relay_configs.etap_studies.study_type AS relay_configs_etap_studies_study_type, relay_configs.etap_studies.status AS relay_configs_etap_studies_status, relay_configs.etap_studies.plant_reference AS relay_configs_etap_studies_plant_reference, relay_configs.etap_studies.project_code AS relay_configs_etap_studies_project_code, relay_configs.etap_studies.revision AS relay_configs_etap_studies_revision, relay_configs.etap_studies.protection_standard AS relay_configs_etap_studies_protection_standard, relay_configs.etap_studies.frequency AS relay_configs_etap_studies_frequency, relay_configs.etap_studies.base_voltage AS relay_configs_etap_studies_base_voltage, relay_configs.etap_studies.base_power AS relay_configs_etap_studies_base_power, relay_configs.etap_studies.created_by AS relay_configs_etap_studies_created_by, relay_configs.etap_studies.created_at AS relay_configs_etap_studies_created_at, relay_configs.etap_studies.updated_at AS relay_configs_etap_studies_updated_at, relay_configs.etap_studies.completed_at AS relay_configs_etap_studies_completed_at, relay_configs.etap_studies.study_config AS relay_configs_etap_studies_study_config 
FROM relay_configs.etap_studies 
WHERE relay_configs.etap_studies.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'test_study', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-10-20 14:17:46,121 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:17:46,122 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge export completed: outputs/etap_exports/study_test_study_f1f0610d-9d3d-46f7-ba9d-1b39808e2ad5.csv
2025-10-20 14:17:46,122 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:17:46,125 - api.services.etap_native_service - ERROR - Sync log failed: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block

[SQL: INSERT INTO relay_configs.etap_sync_logs (sync_type, operation, study_id, status, start_time, end_time, duration, records_processed, records_success, records_failed, source_file, target_file, api_endpoint, api_version, etap_session_id) VALUES (%(sync_type)s, %(operation)s, %(study_id)s, %(status)s, %(start_time)s, %(end_time)s, %(duration)s, %(records_processed)s, %(records_success)s, %(records_failed)s, %(source_file)s, %(target_file)s, %(api_endpoint)s, %(api_version)s, %(etap_session_id)s) RETURNING relay_configs.etap_sync_logs.id]
[parameters: {'sync_type': 'export', 'operation': 'export operation', 'study_id': None, 'status': 'SUCCESS', 'start_time': datetime.datetime(2025, 10, 20, 17, 17, 46, 122700, tzinfo=datetime.timezone.utc), 'end_time': datetime.datetime(2025, 10, 20, 17, 17, 46, 122701, tzinfo=datetime.timezone.utc), 'duration': None, 'records_processed': 1, 'records_success': 0, 'records_failed': 0, 'source_file': None, 'target_file': None, 'api_endpoint': None, 'api_version': None, 'etap_session_id': None}]
(Background on this error at: https://sqlalche.me/e/20/2j85)
2025-10-20 14:17:46,126 - api.services.etap_native_service - INFO - 📊 Fallback coordination analysis: test_study
2025-10-20 14:17:46,126 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:17:48,228 - api.services.etap_native_adapter - INFO - 🔍 Mock coordination analysis: 0 pairs
2025-10-20 14:17:48,228 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 14:17:48,229 - api.services.etap_native_service - INFO - 💾 Syncing coordination results to database...
2025-10-20 14:17:48,229 - api.services.etap_native_service - ERROR - Sync log failed: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block

[SQL: INSERT INTO relay_configs.etap_sync_logs (sync_type, operation, study_id, status, start_time, end_time, duration, records_processed, records_success, records_failed, source_file, target_file, api_endpoint, api_version, etap_session_id) VALUES (%(sync_type)s, %(operation)s, %(study_id)s, %(status)s, %(start_time)s, %(end_time)s, %(duration)s, %(records_processed)s, %(records_success)s, %(records_failed)s, %(source_file)s, %(target_file)s, %(api_endpoint)s, %(api_version)s, %(etap_session_id)s) RETURNING relay_configs.etap_sync_logs.id]
[parameters: {'sync_type': 'export', 'operation': 'export operation', 'study_id': None, 'status': 'SUCCESS', 'start_time': datetime.datetime(2025, 10, 20, 17, 17, 46, 122700, tzinfo=datetime.timezone.utc), 'end_time': datetime.datetime(2025, 10, 20, 17, 17, 46, 122701, tzinfo=datetime.timezone.utc), 'duration': None, 'records_processed': 1, 'records_success': 0, 'records_failed': 0, 'source_file': None, 'target_file': None, 'api_endpoint': None, 'api_version': None, 'etap_session_id': None}]
(Background on this error at: https://sqlalche.me/e/20/2j85) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-10-20 14:17:48,229 - api.services.etap_native_service - INFO - 📊 Fallback selectivity analysis: test_study
2025-10-20 14:17:48,229 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:17:49,831 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 14:17:49,831 - api.services.etap_native_service - INFO - 💾 Syncing selectivity results to database...
2025-10-20 14:17:49,831 - api.services.etap_native_service - ERROR - Sync log failed: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block

[SQL: INSERT INTO relay_configs.etap_sync_logs (sync_type, operation, study_id, status, start_time, end_time, duration, records_processed, records_success, records_failed, source_file, target_file, api_endpoint, api_version, etap_session_id) VALUES (%(sync_type)s, %(operation)s, %(study_id)s, %(status)s, %(start_time)s, %(end_time)s, %(duration)s, %(records_processed)s, %(records_success)s, %(records_failed)s, %(source_file)s, %(target_file)s, %(api_endpoint)s, %(api_version)s, %(etap_session_id)s) RETURNING relay_configs.etap_sync_logs.id]
[parameters: {'sync_type': 'export', 'operation': 'export operation', 'study_id': None, 'status': 'SUCCESS', 'start_time': datetime.datetime(2025, 10, 20, 17, 17, 46, 122700, tzinfo=datetime.timezone.utc), 'end_time': datetime.datetime(2025, 10, 20, 17, 17, 46, 122701, tzinfo=datetime.timezone.utc), 'duration': None, 'records_processed': 1, 'records_success': 0, 'records_failed': 0, 'source_file': None, 'target_file': None, 'api_endpoint': None, 'api_version': None, 'etap_session_id': None}]
(Background on this error at: https://sqlalche.me/e/20/2j85) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-10-20 14:17:49,831 - etap_native_test - INFO - 🧪 Capability Tests: Connectivity=True, Operations=True
2025-10-20 14:17:49,832 - etap_native_test - INFO - ✅ Capability Tests: PASSED
2025-10-20 14:17:49,832 - etap_native_test - INFO - 
🧪 Running: API Endpoints
2025-10-20 14:17:49,832 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 14:17:49,832 - etap_native_test - INFO - 🌐 Testing API Endpoints...
2025-10-20 14:17:54,195 - etap_native_test - INFO - ✅ GET /etap-native/auto-detect: 200
2025-10-20 14:17:56,320 - etap_native_test - INFO - ✅ GET /etap-native/status: 200
2025-10-20 14:18:03,388 - etap_native_test - INFO - ✅ POST /etap-native/test-capabilities: 200
2025-10-20 14:18:05,509 - etap_native_test - INFO - ✅ GET /etap-native/health: 200
2025-10-20 14:18:05,509 - etap_native_test - INFO - 🌐 API Endpoints: 4/4 successful
2025-10-20 14:18:05,510 - etap_native_test - INFO - ✅ API Endpoints: PASSED
2025-10-20 14:18:05,510 - etap_native_test - INFO - 
🧪 Running: Performance Monitoring
2025-10-20 14:18:05,510 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 14:18:05,510 - etap_native_test - INFO - 📈 Testing Performance Monitoring...
2025-10-20 14:18:05,510 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:18:05,612 - api.services.etap_native_adapter - INFO - ✅ ETAP Adapter initialized: EtapConnectionType.MOCK_SIMULATOR
2025-10-20 14:18:05,624 - api.services.etap_native_service - INFO - 🚀 ETAP Native Service initialized: EtapConnectionType.MOCK_SIMULATOR
2025-10-20 14:18:05,624 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760980685
2025-10-20 14:18:05,625 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:18:05,726 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: b4cdd96f-991b-42c2-96e3-bb34afe4cad3
2025-10-20 14:18:05,726 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:18:05,734 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760980685
2025-10-20 14:18:05,734 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:18:05,836 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: 608f623c-a370-4067-9ef0-da85bc4e3e64
2025-10-20 14:18:05,836 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:18:05,842 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760980685
2025-10-20 14:18:05,842 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:18:05,944 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: e1d36859-5cc6-436f-8e3b-c213581bcf65
2025-10-20 14:18:05,944 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:18:05,951 - etap_native_test - INFO - 📈 Performance Monitoring: Metrics collected=True
2025-10-20 14:18:05,951 - etap_native_test - INFO - ✅ Performance Monitoring: PASSED
2025-10-20 14:18:05,951 - etap_native_test - INFO - 
======================================================================
2025-10-20 14:18:05,951 - etap_native_test - INFO - 📋 FINAL REPORT - etapPy™ API Preparation (TODO #6)
2025-10-20 14:18:05,951 - etap_native_test - INFO - ======================================================================
2025-10-20 14:18:05,951 - etap_native_test - INFO - 🎯 Tests Passed: 6/6 (100.0%)
2025-10-20 14:18:05,951 - etap_native_test - INFO - ⏱️ Duration: 30.1s
2025-10-20 14:18:05,951 - etap_native_test - INFO - 📈 Quality Grade: A+
2025-10-20 14:18:05,951 - etap_native_test - INFO - 🏆 Status: PRODUCTION READY
2025-10-20 14:18:05,951 - etap_native_test - INFO - ======================================================================
2025-10-20 14:18:05,952 - etap_native_test - INFO - 📄 Full report saved: outputs/logs/etap_native_test_report_20251020_171805.json
2025-10-20 14:22:19,569 - etap_native_test - INFO - 🚀 Starting etapPy™ API Preparation Test Suite (TODO #6)
2025-10-20 14:22:19,570 - etap_native_test - INFO - ======================================================================
2025-10-20 14:22:19,570 - etap_native_test - INFO - 
🧪 Running: Adapter Factory
2025-10-20 14:22:19,570 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 14:22:19,570 - etap_native_test - INFO - 🏭 Testing Adapter Factory...
2025-10-20 14:22:19,570 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:22:19,570 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:22:19,570 - etap_native_test - INFO - ✅ CSV Bridge: Connection test passed
2025-10-20 14:22:19,570 - api.services.etap_native_adapter - INFO - 🚧 Native API Adapter: Future implementation
2025-10-20 14:22:19,570 - api.services.etap_native_adapter - INFO - 📡 Configured for: localhost:8080
2025-10-20 14:22:20,572 - api.services.etap_native_adapter - INFO - 📤 Native API Adapter disconnected
2025-10-20 14:22:20,573 - etap_native_test - INFO - ✅ Native API: Connection test passed
2025-10-20 14:22:20,573 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:22:20,674 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 14:22:20,674 - etap_native_test - INFO - ✅ Mock Simulator: Connection test passed
2025-10-20 14:22:20,674 - etap_native_test - INFO - 🏭 Adapter Factory: 3 adapters tested
2025-10-20 14:22:20,674 - etap_native_test - INFO - ✅ Adapter Factory: PASSED
2025-10-20 14:22:20,674 - etap_native_test - INFO - 
🧪 Running: Adapter Operations
2025-10-20 14:22:20,674 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 14:22:20,674 - etap_native_test - INFO - ⚙️ Testing Adapter Operations...
2025-10-20 14:22:20,675 - etap_native_test - INFO - 🔧 Testing CSV Bridge...
2025-10-20 14:22:20,675 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:22:20,776 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: 25ff583f-c620-4629-82d6-b3a022978503
2025-10-20 14:22:20,777 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge export completed: outputs/etap_exports/study_test_study_001_1f1a4c5e-15d2-4acf-9976-2511563d8f3a.csv
2025-10-20 14:22:21,580 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:22:21,581 - etap_native_test - ERROR - ❌ CSV Bridge: Operations failed: object of type 'int' has no len()
2025-10-20 14:22:21,581 - etap_native_test - INFO - 🔧 Testing Mock Simulator...
2025-10-20 14:22:21,581 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:22:22,131 - api.services.etap_native_adapter - INFO - 🎭 Mock import completed: 347338e3-ca84-41e4-b56c-734ee304da09
2025-10-20 14:22:24,634 - api.services.etap_native_adapter - INFO - 🔍 Mock coordination analysis: 1 pairs
2025-10-20 14:22:26,136 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 14:22:26,136 - etap_native_test - INFO - ✅ Mock Simulator: All operations completed
2025-10-20 14:22:26,136 - etap_native_test - INFO - ⚙️ Adapter Operations: 1/2 successful
2025-10-20 14:22:26,136 - etap_native_test - INFO - ✅ Adapter Operations: PASSED
2025-10-20 14:22:26,136 - etap_native_test - INFO - 
🧪 Running: Native Service
2025-10-20 14:22:26,136 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 14:22:26,136 - etap_native_test - INFO - 🚀 Testing Native Service...
2025-10-20 14:22:26,136 - etap_native_test - INFO - 🔍 Testing auto-detection...
2025-10-20 14:22:26,136 - api.services.etap_native_service - INFO - 🔍 Auto-detecting best ETAP connection...
2025-10-20 14:22:26,136 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:22:26,136 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:22:26,136 - api.services.etap_native_adapter - INFO - 🚧 Native API Adapter: Future implementation
2025-10-20 14:22:26,136 - api.services.etap_native_adapter - INFO - 📡 Configured for: localhost:8080
2025-10-20 14:22:27,138 - api.services.etap_native_adapter - INFO - 📤 Native API Adapter disconnected
2025-10-20 14:22:27,139 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:22:27,240 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 14:22:27,241 - api.services.etap_native_adapter - INFO - 🚧 Native API Adapter: Future implementation
2025-10-20 14:22:27,241 - api.services.etap_native_adapter - INFO - 📡 Configured for: None:None
2025-10-20 14:22:28,242 - api.services.etap_native_adapter - INFO - ✅ ETAP Adapter initialized: EtapConnectionType.ETAP_API
2025-10-20 14:22:28,322 - api.services.etap_native_service - INFO - 🚀 ETAP Native Service initialized: EtapConnectionType.ETAP_API
2025-10-20 14:22:28,322 - etap_native_test - INFO - 📥 Testing native import...
2025-10-20 14:22:28,322 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760980948
2025-10-20 14:22:28,323 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:22:28,428 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: 5e1e2d2a-3d4b-47dd-aa4a-eea296e554c7
2025-10-20 14:22:28,435 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:22:28,461 - etap_native_test - INFO - 📤 Testing native export...
2025-10-20 14:22:28,461 - api.services.etap_native_service - INFO - 📊 Fallback export: test_study
2025-10-20 14:22:28,466 - api.services.etap_service - ERROR - Database error getting ETAP study test_study: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "test_study"
LINE 3: WHERE relay_configs.etap_studies.id = 'test_study' 
                                              ^

[SQL: SELECT relay_configs.etap_studies.id AS relay_configs_etap_studies_id, relay_configs.etap_studies.uuid AS relay_configs_etap_studies_uuid, relay_configs.etap_studies.name AS relay_configs_etap_studies_name, relay_configs.etap_studies.description AS relay_configs_etap_studies_description, relay_configs.etap_studies.study_type AS relay_configs_etap_studies_study_type, relay_configs.etap_studies.status AS relay_configs_etap_studies_status, relay_configs.etap_studies.plant_reference AS relay_configs_etap_studies_plant_reference, relay_configs.etap_studies.project_code AS relay_configs_etap_studies_project_code, relay_configs.etap_studies.revision AS relay_configs_etap_studies_revision, relay_configs.etap_studies.protection_standard AS relay_configs_etap_studies_protection_standard, relay_configs.etap_studies.frequency AS relay_configs_etap_studies_frequency, relay_configs.etap_studies.base_voltage AS relay_configs_etap_studies_base_voltage, relay_configs.etap_studies.base_power AS relay_configs_etap_studies_base_power, relay_configs.etap_studies.created_by AS relay_configs_etap_studies_created_by, relay_configs.etap_studies.created_at AS relay_configs_etap_studies_created_at, relay_configs.etap_studies.updated_at AS relay_configs_etap_studies_updated_at, relay_configs.etap_studies.completed_at AS relay_configs_etap_studies_completed_at, relay_configs.etap_studies.study_config AS relay_configs_etap_studies_study_config 
FROM relay_configs.etap_studies 
WHERE relay_configs.etap_studies.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'test_study', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-10-20 14:22:28,467 - api.services.etap_integration_service - ERROR - Error exporting study test_study: Failed to get study: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "test_study"
LINE 3: WHERE relay_configs.etap_studies.id = 'test_study' 
                                              ^

[SQL: SELECT relay_configs.etap_studies.id AS relay_configs_etap_studies_id, relay_configs.etap_studies.uuid AS relay_configs_etap_studies_uuid, relay_configs.etap_studies.name AS relay_configs_etap_studies_name, relay_configs.etap_studies.description AS relay_configs_etap_studies_description, relay_configs.etap_studies.study_type AS relay_configs_etap_studies_study_type, relay_configs.etap_studies.status AS relay_configs_etap_studies_status, relay_configs.etap_studies.plant_reference AS relay_configs_etap_studies_plant_reference, relay_configs.etap_studies.project_code AS relay_configs_etap_studies_project_code, relay_configs.etap_studies.revision AS relay_configs_etap_studies_revision, relay_configs.etap_studies.protection_standard AS relay_configs_etap_studies_protection_standard, relay_configs.etap_studies.frequency AS relay_configs_etap_studies_frequency, relay_configs.etap_studies.base_voltage AS relay_configs_etap_studies_base_voltage, relay_configs.etap_studies.base_power AS relay_configs_etap_studies_base_power, relay_configs.etap_studies.created_by AS relay_configs_etap_studies_created_by, relay_configs.etap_studies.created_at AS relay_configs_etap_studies_created_at, relay_configs.etap_studies.updated_at AS relay_configs_etap_studies_updated_at, relay_configs.etap_studies.completed_at AS relay_configs_etap_studies_completed_at, relay_configs.etap_studies.study_config AS relay_configs_etap_studies_study_config 
FROM relay_configs.etap_studies 
WHERE relay_configs.etap_studies.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'test_study', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-10-20 14:22:28,467 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:22:28,469 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge export completed: outputs/etap_exports/study_test_study_6fea63d1-f011-459b-b5a2-4f3d93dd7b21.csv
2025-10-20 14:22:28,469 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:22:28,473 - api.services.etap_native_service - ERROR - Sync log failed: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block

[SQL: INSERT INTO relay_configs.etap_sync_logs (sync_type, operation, study_id, status, start_time, end_time, duration, records_processed, records_success, records_failed, source_file, target_file, api_endpoint, api_version, etap_session_id) VALUES (%(sync_type)s, %(operation)s, %(study_id)s, %(status)s, %(start_time)s, %(end_time)s, %(duration)s, %(records_processed)s, %(records_success)s, %(records_failed)s, %(source_file)s, %(target_file)s, %(api_endpoint)s, %(api_version)s, %(etap_session_id)s) RETURNING relay_configs.etap_sync_logs.id]
[parameters: {'sync_type': 'export', 'operation': 'export operation', 'study_id': None, 'status': 'SUCCESS', 'start_time': datetime.datetime(2025, 10, 20, 17, 22, 28, 469773, tzinfo=datetime.timezone.utc), 'end_time': datetime.datetime(2025, 10, 20, 17, 22, 28, 469774, tzinfo=datetime.timezone.utc), 'duration': None, 'records_processed': 1, 'records_success': 0, 'records_failed': 0, 'source_file': None, 'target_file': None, 'api_endpoint': None, 'api_version': None, 'etap_session_id': None}]
(Background on this error at: https://sqlalche.me/e/20/2j85)
2025-10-20 14:22:28,473 - etap_native_test - INFO - 🔍 Testing coordination analysis...
2025-10-20 14:22:28,473 - api.services.etap_native_service - ERROR - Coordination analysis failed: invalid literal for int() with base 10: 'test_study'
2025-10-20 14:22:28,473 - etap_native_test - INFO - 🎯 Testing selectivity analysis...
2025-10-20 14:22:28,473 - api.services.etap_native_service - ERROR - Selectivity analysis failed: invalid literal for int() with base 10: 'test_study'
2025-10-20 14:22:28,473 - etap_native_test - INFO - 🚀 Native Service: 2/4 operations successful
2025-10-20 14:22:28,474 - etap_native_test - INFO - ✅ Native Service: PASSED
2025-10-20 14:22:28,474 - etap_native_test - INFO - 
🧪 Running: Capability Tests
2025-10-20 14:22:28,474 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 14:22:28,474 - etap_native_test - INFO - 🧪 Testing Capability Tests...
2025-10-20 14:22:28,475 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:22:28,576 - api.services.etap_native_adapter - INFO - ✅ ETAP Adapter initialized: EtapConnectionType.MOCK_SIMULATOR
2025-10-20 14:22:28,580 - api.services.etap_native_service - INFO - 🚀 ETAP Native Service initialized: EtapConnectionType.MOCK_SIMULATOR
2025-10-20 14:22:28,580 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:22:28,580 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:22:28,581 - api.services.etap_native_adapter - INFO - 🚧 Native API Adapter: Future implementation
2025-10-20 14:22:28,581 - api.services.etap_native_adapter - INFO - 📡 Configured for: localhost:8080
2025-10-20 14:22:29,582 - api.services.etap_native_adapter - INFO - 📤 Native API Adapter disconnected
2025-10-20 14:22:29,585 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:22:29,687 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 14:22:29,688 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760980949
2025-10-20 14:22:29,689 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:22:29,791 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: 1f52a0aa-65f8-4a9b-bebc-713de4b9e5c8
2025-10-20 14:22:29,791 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:22:29,809 - api.services.etap_native_service - INFO - 📊 Fallback export: test_study
2025-10-20 14:22:29,813 - api.services.etap_service - ERROR - Database error getting ETAP study test_study: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "test_study"
LINE 3: WHERE relay_configs.etap_studies.id = 'test_study' 
                                              ^

[SQL: SELECT relay_configs.etap_studies.id AS relay_configs_etap_studies_id, relay_configs.etap_studies.uuid AS relay_configs_etap_studies_uuid, relay_configs.etap_studies.name AS relay_configs_etap_studies_name, relay_configs.etap_studies.description AS relay_configs_etap_studies_description, relay_configs.etap_studies.study_type AS relay_configs_etap_studies_study_type, relay_configs.etap_studies.status AS relay_configs_etap_studies_status, relay_configs.etap_studies.plant_reference AS relay_configs_etap_studies_plant_reference, relay_configs.etap_studies.project_code AS relay_configs_etap_studies_project_code, relay_configs.etap_studies.revision AS relay_configs_etap_studies_revision, relay_configs.etap_studies.protection_standard AS relay_configs_etap_studies_protection_standard, relay_configs.etap_studies.frequency AS relay_configs_etap_studies_frequency, relay_configs.etap_studies.base_voltage AS relay_configs_etap_studies_base_voltage, relay_configs.etap_studies.base_power AS relay_configs_etap_studies_base_power, relay_configs.etap_studies.created_by AS relay_configs_etap_studies_created_by, relay_configs.etap_studies.created_at AS relay_configs_etap_studies_created_at, relay_configs.etap_studies.updated_at AS relay_configs_etap_studies_updated_at, relay_configs.etap_studies.completed_at AS relay_configs_etap_studies_completed_at, relay_configs.etap_studies.study_config AS relay_configs_etap_studies_study_config 
FROM relay_configs.etap_studies 
WHERE relay_configs.etap_studies.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'test_study', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-10-20 14:22:29,814 - api.services.etap_integration_service - ERROR - Error exporting study test_study: Failed to get study: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "test_study"
LINE 3: WHERE relay_configs.etap_studies.id = 'test_study' 
                                              ^

[SQL: SELECT relay_configs.etap_studies.id AS relay_configs_etap_studies_id, relay_configs.etap_studies.uuid AS relay_configs_etap_studies_uuid, relay_configs.etap_studies.name AS relay_configs_etap_studies_name, relay_configs.etap_studies.description AS relay_configs_etap_studies_description, relay_configs.etap_studies.study_type AS relay_configs_etap_studies_study_type, relay_configs.etap_studies.status AS relay_configs_etap_studies_status, relay_configs.etap_studies.plant_reference AS relay_configs_etap_studies_plant_reference, relay_configs.etap_studies.project_code AS relay_configs_etap_studies_project_code, relay_configs.etap_studies.revision AS relay_configs_etap_studies_revision, relay_configs.etap_studies.protection_standard AS relay_configs_etap_studies_protection_standard, relay_configs.etap_studies.frequency AS relay_configs_etap_studies_frequency, relay_configs.etap_studies.base_voltage AS relay_configs_etap_studies_base_voltage, relay_configs.etap_studies.base_power AS relay_configs_etap_studies_base_power, relay_configs.etap_studies.created_by AS relay_configs_etap_studies_created_by, relay_configs.etap_studies.created_at AS relay_configs_etap_studies_created_at, relay_configs.etap_studies.updated_at AS relay_configs_etap_studies_updated_at, relay_configs.etap_studies.completed_at AS relay_configs_etap_studies_completed_at, relay_configs.etap_studies.study_config AS relay_configs_etap_studies_study_config 
FROM relay_configs.etap_studies 
WHERE relay_configs.etap_studies.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'test_study', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-10-20 14:22:29,814 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:22:29,815 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge export completed: outputs/etap_exports/study_test_study_f767f450-3fb6-4c95-ac18-7c8390fe8795.csv
2025-10-20 14:22:29,815 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:22:29,818 - api.services.etap_native_service - ERROR - Sync log failed: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block

[SQL: INSERT INTO relay_configs.etap_sync_logs (sync_type, operation, study_id, status, start_time, end_time, duration, records_processed, records_success, records_failed, source_file, target_file, api_endpoint, api_version, etap_session_id) VALUES (%(sync_type)s, %(operation)s, %(study_id)s, %(status)s, %(start_time)s, %(end_time)s, %(duration)s, %(records_processed)s, %(records_success)s, %(records_failed)s, %(source_file)s, %(target_file)s, %(api_endpoint)s, %(api_version)s, %(etap_session_id)s) RETURNING relay_configs.etap_sync_logs.id]
[parameters: {'sync_type': 'export', 'operation': 'export operation', 'study_id': None, 'status': 'SUCCESS', 'start_time': datetime.datetime(2025, 10, 20, 17, 22, 29, 815687, tzinfo=datetime.timezone.utc), 'end_time': datetime.datetime(2025, 10, 20, 17, 22, 29, 815687, tzinfo=datetime.timezone.utc), 'duration': None, 'records_processed': 1, 'records_success': 0, 'records_failed': 0, 'source_file': None, 'target_file': None, 'api_endpoint': None, 'api_version': None, 'etap_session_id': None}]
(Background on this error at: https://sqlalche.me/e/20/2j85)
2025-10-20 14:22:29,818 - api.services.etap_native_service - INFO - 📊 Fallback coordination analysis: test_study
2025-10-20 14:22:29,818 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:22:31,923 - api.services.etap_native_adapter - INFO - 🔍 Mock coordination analysis: 0 pairs
2025-10-20 14:22:31,924 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 14:22:31,924 - api.services.etap_native_service - INFO - 💾 Syncing coordination results to database...
2025-10-20 14:22:31,926 - api.services.etap_native_service - ERROR - Sync log failed: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block

[SQL: INSERT INTO relay_configs.etap_sync_logs (sync_type, operation, study_id, status, start_time, end_time, duration, records_processed, records_success, records_failed, source_file, target_file, api_endpoint, api_version, etap_session_id) VALUES (%(sync_type)s, %(operation)s, %(study_id)s, %(status)s, %(start_time)s, %(end_time)s, %(duration)s, %(records_processed)s, %(records_success)s, %(records_failed)s, %(source_file)s, %(target_file)s, %(api_endpoint)s, %(api_version)s, %(etap_session_id)s) RETURNING relay_configs.etap_sync_logs.id]
[parameters: {'sync_type': 'export', 'operation': 'export operation', 'study_id': None, 'status': 'SUCCESS', 'start_time': datetime.datetime(2025, 10, 20, 17, 22, 29, 815687, tzinfo=datetime.timezone.utc), 'end_time': datetime.datetime(2025, 10, 20, 17, 22, 29, 815687, tzinfo=datetime.timezone.utc), 'duration': None, 'records_processed': 1, 'records_success': 0, 'records_failed': 0, 'source_file': None, 'target_file': None, 'api_endpoint': None, 'api_version': None, 'etap_session_id': None}]
(Background on this error at: https://sqlalche.me/e/20/2j85) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-10-20 14:22:31,926 - api.services.etap_native_service - INFO - 📊 Fallback selectivity analysis: test_study
2025-10-20 14:22:31,927 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:22:33,530 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 14:22:33,530 - api.services.etap_native_service - INFO - 💾 Syncing selectivity results to database...
2025-10-20 14:22:33,530 - api.services.etap_native_service - ERROR - Sync log failed: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block

[SQL: INSERT INTO relay_configs.etap_sync_logs (sync_type, operation, study_id, status, start_time, end_time, duration, records_processed, records_success, records_failed, source_file, target_file, api_endpoint, api_version, etap_session_id) VALUES (%(sync_type)s, %(operation)s, %(study_id)s, %(status)s, %(start_time)s, %(end_time)s, %(duration)s, %(records_processed)s, %(records_success)s, %(records_failed)s, %(source_file)s, %(target_file)s, %(api_endpoint)s, %(api_version)s, %(etap_session_id)s) RETURNING relay_configs.etap_sync_logs.id]
[parameters: {'sync_type': 'export', 'operation': 'export operation', 'study_id': None, 'status': 'SUCCESS', 'start_time': datetime.datetime(2025, 10, 20, 17, 22, 29, 815687, tzinfo=datetime.timezone.utc), 'end_time': datetime.datetime(2025, 10, 20, 17, 22, 29, 815687, tzinfo=datetime.timezone.utc), 'duration': None, 'records_processed': 1, 'records_success': 0, 'records_failed': 0, 'source_file': None, 'target_file': None, 'api_endpoint': None, 'api_version': None, 'etap_session_id': None}]
(Background on this error at: https://sqlalche.me/e/20/2j85) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-10-20 14:22:33,530 - etap_native_test - INFO - 🧪 Capability Tests: Connectivity=True, Operations=True
2025-10-20 14:22:33,530 - etap_native_test - INFO - ✅ Capability Tests: PASSED
2025-10-20 14:22:33,530 - etap_native_test - INFO - 
🧪 Running: API Endpoints
2025-10-20 14:22:33,530 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 14:22:33,530 - etap_native_test - INFO - 🌐 Testing API Endpoints...
2025-10-20 14:22:37,800 - etap_native_test - INFO - ✅ GET /etap-native/auto-detect: 200
2025-10-20 14:22:39,918 - etap_native_test - INFO - ✅ GET /etap-native/status: 200
2025-10-20 14:22:46,951 - etap_native_test - INFO - ✅ POST /etap-native/test-capabilities: 200
2025-10-20 14:22:49,062 - etap_native_test - INFO - ✅ GET /etap-native/health: 200
2025-10-20 14:22:49,062 - etap_native_test - INFO - 🌐 API Endpoints: 4/4 successful
2025-10-20 14:22:49,062 - etap_native_test - INFO - ✅ API Endpoints: PASSED
2025-10-20 14:22:49,062 - etap_native_test - INFO - 
🧪 Running: Performance Monitoring
2025-10-20 14:22:49,062 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 14:22:49,062 - etap_native_test - INFO - 📈 Testing Performance Monitoring...
2025-10-20 14:22:49,062 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:22:49,164 - api.services.etap_native_adapter - INFO - ✅ ETAP Adapter initialized: EtapConnectionType.MOCK_SIMULATOR
2025-10-20 14:22:49,172 - api.services.etap_native_service - INFO - 🚀 ETAP Native Service initialized: EtapConnectionType.MOCK_SIMULATOR
2025-10-20 14:22:49,172 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760980969
2025-10-20 14:22:49,172 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:22:49,274 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: 0d8c7d9c-e819-45d1-bad2-ee4df0da14bf
2025-10-20 14:22:49,274 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:22:49,278 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760980969
2025-10-20 14:22:49,278 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:22:49,380 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: 63909018-91f5-4e44-b419-9abc64a1fc1f
2025-10-20 14:22:49,380 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:22:49,385 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760980969
2025-10-20 14:22:49,385 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:22:49,489 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: 8d0f22eb-9d2d-4c48-a3ea-4eab698928c8
2025-10-20 14:22:49,489 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:22:49,498 - etap_native_test - INFO - 📈 Performance Monitoring: Metrics collected=True
2025-10-20 14:22:49,498 - etap_native_test - INFO - ✅ Performance Monitoring: PASSED
2025-10-20 14:22:49,498 - etap_native_test - INFO - 
======================================================================
2025-10-20 14:22:49,498 - etap_native_test - INFO - 📋 FINAL REPORT - etapPy™ API Preparation (TODO #6)
2025-10-20 14:22:49,498 - etap_native_test - INFO - ======================================================================
2025-10-20 14:22:49,498 - etap_native_test - INFO - 🎯 Tests Passed: 6/6 (100.0%)
2025-10-20 14:22:49,498 - etap_native_test - INFO - ⏱️ Duration: 29.9s
2025-10-20 14:22:49,498 - etap_native_test - INFO - 📈 Quality Grade: A+
2025-10-20 14:22:49,498 - etap_native_test - INFO - 🏆 Status: PRODUCTION READY
2025-10-20 14:22:49,498 - etap_native_test - INFO - ======================================================================
2025-10-20 14:22:49,499 - etap_native_test - INFO - 📄 Full report saved: outputs/logs/etap_native_test_report_20251020_172249.json
2025-10-20 14:25:07,668 - etap_native_test - INFO - 🚀 Starting etapPy™ API Preparation Test Suite (TODO #6)
2025-10-20 14:25:07,670 - etap_native_test - INFO - ======================================================================
2025-10-20 14:25:07,670 - etap_native_test - INFO - 
🧪 Running: Adapter Factory
2025-10-20 14:25:07,670 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 14:25:07,670 - etap_native_test - INFO - 🏭 Testing Adapter Factory...
2025-10-20 14:25:07,671 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:25:07,671 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:25:07,671 - etap_native_test - INFO - ✅ CSV Bridge: Connection test passed
2025-10-20 14:25:07,671 - api.services.etap_native_adapter - INFO - 🚧 Native API Adapter: Future implementation
2025-10-20 14:25:07,671 - api.services.etap_native_adapter - INFO - 📡 Configured for: localhost:8080
2025-10-20 14:25:08,672 - api.services.etap_native_adapter - INFO - 📤 Native API Adapter disconnected
2025-10-20 14:25:08,672 - etap_native_test - INFO - ✅ Native API: Connection test passed
2025-10-20 14:25:08,672 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:25:08,775 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 14:25:08,775 - etap_native_test - INFO - ✅ Mock Simulator: Connection test passed
2025-10-20 14:25:08,776 - etap_native_test - INFO - 🏭 Adapter Factory: 3 adapters tested
2025-10-20 14:25:08,776 - etap_native_test - INFO - ✅ Adapter Factory: PASSED
2025-10-20 14:25:08,776 - etap_native_test - INFO - 
🧪 Running: Adapter Operations
2025-10-20 14:25:08,776 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 14:25:08,777 - etap_native_test - INFO - ⚙️ Testing Adapter Operations...
2025-10-20 14:25:08,777 - etap_native_test - INFO - 🔧 Testing CSV Bridge...
2025-10-20 14:25:08,778 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:25:08,879 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: a9dd98d3-c08c-45d5-b753-6d87dfe164f9
2025-10-20 14:25:08,880 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge export completed: outputs/etap_exports/study_test_study_001_65664e8a-e5a9-44cf-bbaa-15690e7a937c.csv
2025-10-20 14:25:09,683 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:25:09,683 - etap_native_test - ERROR - ❌ CSV Bridge: Operations failed: object of type 'int' has no len()
2025-10-20 14:25:09,684 - etap_native_test - INFO - 🔧 Testing Mock Simulator...
2025-10-20 14:25:09,684 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:25:10,234 - api.services.etap_native_adapter - INFO - 🎭 Mock import completed: a086a8f1-751b-4c8a-b167-d4a948bbfe38
2025-10-20 14:25:12,736 - api.services.etap_native_adapter - INFO - 🔍 Mock coordination analysis: 1 pairs
2025-10-20 14:25:14,238 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 14:25:14,239 - etap_native_test - INFO - ✅ Mock Simulator: All operations completed
2025-10-20 14:25:14,239 - etap_native_test - INFO - ⚙️ Adapter Operations: 1/2 successful
2025-10-20 14:25:14,239 - etap_native_test - INFO - ✅ Adapter Operations: PASSED
2025-10-20 14:25:14,239 - etap_native_test - INFO - 
🧪 Running: Native Service
2025-10-20 14:25:14,239 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 14:25:14,239 - etap_native_test - INFO - 🚀 Testing Native Service...
2025-10-20 14:25:14,239 - etap_native_test - INFO - 🔍 Testing auto-detection...
2025-10-20 14:25:14,239 - api.services.etap_native_service - INFO - 🔍 Auto-detecting best ETAP connection...
2025-10-20 14:25:14,239 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:25:14,239 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:25:14,240 - api.services.etap_native_adapter - INFO - 🚧 Native API Adapter: Future implementation
2025-10-20 14:25:14,240 - api.services.etap_native_adapter - INFO - 📡 Configured for: localhost:8080
2025-10-20 14:25:15,243 - api.services.etap_native_adapter - INFO - 📤 Native API Adapter disconnected
2025-10-20 14:25:15,244 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:25:15,346 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 14:25:15,347 - api.services.etap_native_adapter - INFO - 🚧 Native API Adapter: Future implementation
2025-10-20 14:25:15,348 - api.services.etap_native_adapter - INFO - 📡 Configured for: None:None
2025-10-20 14:25:16,348 - api.services.etap_native_adapter - INFO - ✅ ETAP Adapter initialized: EtapConnectionType.ETAP_API
2025-10-20 14:25:16,431 - api.services.etap_native_service - INFO - 🚀 ETAP Native Service initialized: EtapConnectionType.ETAP_API
2025-10-20 14:25:16,431 - etap_native_test - INFO - 📥 Testing native import...
2025-10-20 14:25:16,431 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760981116
2025-10-20 14:25:16,431 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:25:16,532 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: 99419cab-25c1-4668-882a-babfa4fc2867
2025-10-20 14:25:16,533 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:25:16,541 - etap_native_test - INFO - 📤 Testing native export...
2025-10-20 14:25:16,541 - api.services.etap_native_service - INFO - 📊 Fallback export: test_study
2025-10-20 14:25:16,549 - api.services.etap_service - ERROR - Database error getting ETAP study test_study: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "test_study"
LINE 3: WHERE relay_configs.etap_studies.id = 'test_study' 
                                              ^

[SQL: SELECT relay_configs.etap_studies.id AS relay_configs_etap_studies_id, relay_configs.etap_studies.uuid AS relay_configs_etap_studies_uuid, relay_configs.etap_studies.name AS relay_configs_etap_studies_name, relay_configs.etap_studies.description AS relay_configs_etap_studies_description, relay_configs.etap_studies.study_type AS relay_configs_etap_studies_study_type, relay_configs.etap_studies.status AS relay_configs_etap_studies_status, relay_configs.etap_studies.plant_reference AS relay_configs_etap_studies_plant_reference, relay_configs.etap_studies.project_code AS relay_configs_etap_studies_project_code, relay_configs.etap_studies.revision AS relay_configs_etap_studies_revision, relay_configs.etap_studies.protection_standard AS relay_configs_etap_studies_protection_standard, relay_configs.etap_studies.frequency AS relay_configs_etap_studies_frequency, relay_configs.etap_studies.base_voltage AS relay_configs_etap_studies_base_voltage, relay_configs.etap_studies.base_power AS relay_configs_etap_studies_base_power, relay_configs.etap_studies.created_by AS relay_configs_etap_studies_created_by, relay_configs.etap_studies.created_at AS relay_configs_etap_studies_created_at, relay_configs.etap_studies.updated_at AS relay_configs_etap_studies_updated_at, relay_configs.etap_studies.completed_at AS relay_configs_etap_studies_completed_at, relay_configs.etap_studies.study_config AS relay_configs_etap_studies_study_config 
FROM relay_configs.etap_studies 
WHERE relay_configs.etap_studies.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'test_study', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-10-20 14:25:16,549 - api.services.etap_integration_service - ERROR - Error exporting study test_study: Failed to get study: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "test_study"
LINE 3: WHERE relay_configs.etap_studies.id = 'test_study' 
                                              ^

[SQL: SELECT relay_configs.etap_studies.id AS relay_configs_etap_studies_id, relay_configs.etap_studies.uuid AS relay_configs_etap_studies_uuid, relay_configs.etap_studies.name AS relay_configs_etap_studies_name, relay_configs.etap_studies.description AS relay_configs_etap_studies_description, relay_configs.etap_studies.study_type AS relay_configs_etap_studies_study_type, relay_configs.etap_studies.status AS relay_configs_etap_studies_status, relay_configs.etap_studies.plant_reference AS relay_configs_etap_studies_plant_reference, relay_configs.etap_studies.project_code AS relay_configs_etap_studies_project_code, relay_configs.etap_studies.revision AS relay_configs_etap_studies_revision, relay_configs.etap_studies.protection_standard AS relay_configs_etap_studies_protection_standard, relay_configs.etap_studies.frequency AS relay_configs_etap_studies_frequency, relay_configs.etap_studies.base_voltage AS relay_configs_etap_studies_base_voltage, relay_configs.etap_studies.base_power AS relay_configs_etap_studies_base_power, relay_configs.etap_studies.created_by AS relay_configs_etap_studies_created_by, relay_configs.etap_studies.created_at AS relay_configs_etap_studies_created_at, relay_configs.etap_studies.updated_at AS relay_configs_etap_studies_updated_at, relay_configs.etap_studies.completed_at AS relay_configs_etap_studies_completed_at, relay_configs.etap_studies.study_config AS relay_configs_etap_studies_study_config 
FROM relay_configs.etap_studies 
WHERE relay_configs.etap_studies.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'test_study', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-10-20 14:25:16,550 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:25:16,550 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge export completed: outputs/etap_exports/study_test_study_103199a4-4e05-4cc2-82f8-92e734ff80c7.csv
2025-10-20 14:25:16,550 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:25:16,552 - api.services.etap_native_service - ERROR - Sync log failed: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block

[SQL: INSERT INTO relay_configs.etap_sync_logs (sync_type, operation, study_id, status, start_time, end_time, duration, records_processed, records_success, records_failed, source_file, target_file, api_endpoint, api_version, etap_session_id) VALUES (%(sync_type)s, %(operation)s, %(study_id)s, %(status)s, %(start_time)s, %(end_time)s, %(duration)s, %(records_processed)s, %(records_success)s, %(records_failed)s, %(source_file)s, %(target_file)s, %(api_endpoint)s, %(api_version)s, %(etap_session_id)s) RETURNING relay_configs.etap_sync_logs.id]
[parameters: {'sync_type': 'export', 'operation': 'export operation', 'study_id': None, 'status': 'SUCCESS', 'start_time': datetime.datetime(2025, 10, 20, 17, 25, 16, 550498, tzinfo=datetime.timezone.utc), 'end_time': datetime.datetime(2025, 10, 20, 17, 25, 16, 550500, tzinfo=datetime.timezone.utc), 'duration': None, 'records_processed': 1, 'records_success': 0, 'records_failed': 0, 'source_file': None, 'target_file': None, 'api_endpoint': None, 'api_version': None, 'etap_session_id': None}]
(Background on this error at: https://sqlalche.me/e/20/2j85)
2025-10-20 14:25:16,552 - etap_native_test - INFO - 🔍 Testing coordination analysis...
2025-10-20 14:25:16,552 - api.services.etap_native_service - ERROR - Coordination analysis failed: invalid literal for int() with base 10: 'test_study'
2025-10-20 14:25:16,552 - etap_native_test - INFO - 🎯 Testing selectivity analysis...
2025-10-20 14:25:16,552 - api.services.etap_native_service - ERROR - Selectivity analysis failed: invalid literal for int() with base 10: 'test_study'
2025-10-20 14:25:16,552 - etap_native_test - INFO - 🚀 Native Service: 2/4 operations successful
2025-10-20 14:25:16,552 - etap_native_test - INFO - ✅ Native Service: PASSED
2025-10-20 14:25:16,552 - etap_native_test - INFO - 
🧪 Running: Capability Tests
2025-10-20 14:25:16,552 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 14:25:16,552 - etap_native_test - INFO - 🧪 Testing Capability Tests...
2025-10-20 14:25:16,553 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:25:16,654 - api.services.etap_native_adapter - INFO - ✅ ETAP Adapter initialized: EtapConnectionType.MOCK_SIMULATOR
2025-10-20 14:25:16,661 - api.services.etap_native_service - INFO - 🚀 ETAP Native Service initialized: EtapConnectionType.MOCK_SIMULATOR
2025-10-20 14:25:16,661 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:25:16,661 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:25:16,661 - api.services.etap_native_adapter - INFO - 🚧 Native API Adapter: Future implementation
2025-10-20 14:25:16,661 - api.services.etap_native_adapter - INFO - 📡 Configured for: localhost:8080
2025-10-20 14:25:17,663 - api.services.etap_native_adapter - INFO - 📤 Native API Adapter disconnected
2025-10-20 14:25:17,665 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:25:17,768 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 14:25:17,769 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760981117
2025-10-20 14:25:17,770 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:25:17,872 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: 86e58aca-77ee-46f2-9573-9a338448f6ed
2025-10-20 14:25:17,872 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:25:17,883 - api.services.etap_native_service - INFO - 📊 Fallback export: test_study
2025-10-20 14:25:17,887 - api.services.etap_service - ERROR - Database error getting ETAP study test_study: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "test_study"
LINE 3: WHERE relay_configs.etap_studies.id = 'test_study' 
                                              ^

[SQL: SELECT relay_configs.etap_studies.id AS relay_configs_etap_studies_id, relay_configs.etap_studies.uuid AS relay_configs_etap_studies_uuid, relay_configs.etap_studies.name AS relay_configs_etap_studies_name, relay_configs.etap_studies.description AS relay_configs_etap_studies_description, relay_configs.etap_studies.study_type AS relay_configs_etap_studies_study_type, relay_configs.etap_studies.status AS relay_configs_etap_studies_status, relay_configs.etap_studies.plant_reference AS relay_configs_etap_studies_plant_reference, relay_configs.etap_studies.project_code AS relay_configs_etap_studies_project_code, relay_configs.etap_studies.revision AS relay_configs_etap_studies_revision, relay_configs.etap_studies.protection_standard AS relay_configs_etap_studies_protection_standard, relay_configs.etap_studies.frequency AS relay_configs_etap_studies_frequency, relay_configs.etap_studies.base_voltage AS relay_configs_etap_studies_base_voltage, relay_configs.etap_studies.base_power AS relay_configs_etap_studies_base_power, relay_configs.etap_studies.created_by AS relay_configs_etap_studies_created_by, relay_configs.etap_studies.created_at AS relay_configs_etap_studies_created_at, relay_configs.etap_studies.updated_at AS relay_configs_etap_studies_updated_at, relay_configs.etap_studies.completed_at AS relay_configs_etap_studies_completed_at, relay_configs.etap_studies.study_config AS relay_configs_etap_studies_study_config 
FROM relay_configs.etap_studies 
WHERE relay_configs.etap_studies.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'test_study', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-10-20 14:25:17,888 - api.services.etap_integration_service - ERROR - Error exporting study test_study: Failed to get study: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "test_study"
LINE 3: WHERE relay_configs.etap_studies.id = 'test_study' 
                                              ^

[SQL: SELECT relay_configs.etap_studies.id AS relay_configs_etap_studies_id, relay_configs.etap_studies.uuid AS relay_configs_etap_studies_uuid, relay_configs.etap_studies.name AS relay_configs_etap_studies_name, relay_configs.etap_studies.description AS relay_configs_etap_studies_description, relay_configs.etap_studies.study_type AS relay_configs_etap_studies_study_type, relay_configs.etap_studies.status AS relay_configs_etap_studies_status, relay_configs.etap_studies.plant_reference AS relay_configs_etap_studies_plant_reference, relay_configs.etap_studies.project_code AS relay_configs_etap_studies_project_code, relay_configs.etap_studies.revision AS relay_configs_etap_studies_revision, relay_configs.etap_studies.protection_standard AS relay_configs_etap_studies_protection_standard, relay_configs.etap_studies.frequency AS relay_configs_etap_studies_frequency, relay_configs.etap_studies.base_voltage AS relay_configs_etap_studies_base_voltage, relay_configs.etap_studies.base_power AS relay_configs_etap_studies_base_power, relay_configs.etap_studies.created_by AS relay_configs_etap_studies_created_by, relay_configs.etap_studies.created_at AS relay_configs_etap_studies_created_at, relay_configs.etap_studies.updated_at AS relay_configs_etap_studies_updated_at, relay_configs.etap_studies.completed_at AS relay_configs_etap_studies_completed_at, relay_configs.etap_studies.study_config AS relay_configs_etap_studies_study_config 
FROM relay_configs.etap_studies 
WHERE relay_configs.etap_studies.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'test_study', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-10-20 14:25:17,889 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:25:17,890 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge export completed: outputs/etap_exports/study_test_study_aa3fdd46-0c5d-4eeb-9c5e-d27243f91c6b.csv
2025-10-20 14:25:17,890 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:25:17,894 - api.services.etap_native_service - ERROR - Sync log failed: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block

[SQL: INSERT INTO relay_configs.etap_sync_logs (sync_type, operation, study_id, status, start_time, end_time, duration, records_processed, records_success, records_failed, source_file, target_file, api_endpoint, api_version, etap_session_id) VALUES (%(sync_type)s, %(operation)s, %(study_id)s, %(status)s, %(start_time)s, %(end_time)s, %(duration)s, %(records_processed)s, %(records_success)s, %(records_failed)s, %(source_file)s, %(target_file)s, %(api_endpoint)s, %(api_version)s, %(etap_session_id)s) RETURNING relay_configs.etap_sync_logs.id]
[parameters: {'sync_type': 'export', 'operation': 'export operation', 'study_id': None, 'status': 'SUCCESS', 'start_time': datetime.datetime(2025, 10, 20, 17, 25, 17, 890693, tzinfo=datetime.timezone.utc), 'end_time': datetime.datetime(2025, 10, 20, 17, 25, 17, 890693, tzinfo=datetime.timezone.utc), 'duration': None, 'records_processed': 1, 'records_success': 0, 'records_failed': 0, 'source_file': None, 'target_file': None, 'api_endpoint': None, 'api_version': None, 'etap_session_id': None}]
(Background on this error at: https://sqlalche.me/e/20/2j85)
2025-10-20 14:25:17,895 - api.services.etap_native_service - INFO - 📊 Fallback coordination analysis: test_study
2025-10-20 14:25:17,896 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:25:19,998 - api.services.etap_native_adapter - INFO - 🔍 Mock coordination analysis: 0 pairs
2025-10-20 14:25:19,999 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 14:25:19,999 - api.services.etap_native_service - INFO - 💾 Syncing coordination results to database...
2025-10-20 14:25:19,999 - api.services.etap_native_service - ERROR - Sync log failed: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block

[SQL: INSERT INTO relay_configs.etap_sync_logs (sync_type, operation, study_id, status, start_time, end_time, duration, records_processed, records_success, records_failed, source_file, target_file, api_endpoint, api_version, etap_session_id) VALUES (%(sync_type)s, %(operation)s, %(study_id)s, %(status)s, %(start_time)s, %(end_time)s, %(duration)s, %(records_processed)s, %(records_success)s, %(records_failed)s, %(source_file)s, %(target_file)s, %(api_endpoint)s, %(api_version)s, %(etap_session_id)s) RETURNING relay_configs.etap_sync_logs.id]
[parameters: {'sync_type': 'export', 'operation': 'export operation', 'study_id': None, 'status': 'SUCCESS', 'start_time': datetime.datetime(2025, 10, 20, 17, 25, 17, 890693, tzinfo=datetime.timezone.utc), 'end_time': datetime.datetime(2025, 10, 20, 17, 25, 17, 890693, tzinfo=datetime.timezone.utc), 'duration': None, 'records_processed': 1, 'records_success': 0, 'records_failed': 0, 'source_file': None, 'target_file': None, 'api_endpoint': None, 'api_version': None, 'etap_session_id': None}]
(Background on this error at: https://sqlalche.me/e/20/2j85) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-10-20 14:25:19,999 - api.services.etap_native_service - INFO - 📊 Fallback selectivity analysis: test_study
2025-10-20 14:25:19,999 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:25:21,601 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 14:25:21,602 - api.services.etap_native_service - INFO - 💾 Syncing selectivity results to database...
2025-10-20 14:25:21,602 - api.services.etap_native_service - ERROR - Sync log failed: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block

[SQL: INSERT INTO relay_configs.etap_sync_logs (sync_type, operation, study_id, status, start_time, end_time, duration, records_processed, records_success, records_failed, source_file, target_file, api_endpoint, api_version, etap_session_id) VALUES (%(sync_type)s, %(operation)s, %(study_id)s, %(status)s, %(start_time)s, %(end_time)s, %(duration)s, %(records_processed)s, %(records_success)s, %(records_failed)s, %(source_file)s, %(target_file)s, %(api_endpoint)s, %(api_version)s, %(etap_session_id)s) RETURNING relay_configs.etap_sync_logs.id]
[parameters: {'sync_type': 'export', 'operation': 'export operation', 'study_id': None, 'status': 'SUCCESS', 'start_time': datetime.datetime(2025, 10, 20, 17, 25, 17, 890693, tzinfo=datetime.timezone.utc), 'end_time': datetime.datetime(2025, 10, 20, 17, 25, 17, 890693, tzinfo=datetime.timezone.utc), 'duration': None, 'records_processed': 1, 'records_success': 0, 'records_failed': 0, 'source_file': None, 'target_file': None, 'api_endpoint': None, 'api_version': None, 'etap_session_id': None}]
(Background on this error at: https://sqlalche.me/e/20/2j85) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-10-20 14:25:21,602 - etap_native_test - INFO - 🧪 Capability Tests: Connectivity=True, Operations=True
2025-10-20 14:25:21,602 - etap_native_test - INFO - ✅ Capability Tests: PASSED
2025-10-20 14:25:21,602 - etap_native_test - INFO - 
🧪 Running: API Endpoints
2025-10-20 14:25:21,602 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 14:25:21,602 - etap_native_test - INFO - 🌐 Testing API Endpoints...
2025-10-20 14:25:25,987 - etap_native_test - INFO - ✅ GET /etap-native/auto-detect: 200
2025-10-20 14:25:28,118 - etap_native_test - INFO - ✅ GET /etap-native/status: 200
2025-10-20 14:25:35,171 - etap_native_test - INFO - ✅ POST /etap-native/test-capabilities: 200
2025-10-20 14:25:37,295 - etap_native_test - INFO - ✅ GET /etap-native/health: 200
2025-10-20 14:25:37,295 - etap_native_test - INFO - 🌐 API Endpoints: 4/4 successful
2025-10-20 14:25:37,296 - etap_native_test - INFO - ✅ API Endpoints: PASSED
2025-10-20 14:25:37,296 - etap_native_test - INFO - 
🧪 Running: Performance Monitoring
2025-10-20 14:25:37,296 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 14:25:37,296 - etap_native_test - INFO - 📈 Testing Performance Monitoring...
2025-10-20 14:25:37,296 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:25:37,397 - api.services.etap_native_adapter - INFO - ✅ ETAP Adapter initialized: EtapConnectionType.MOCK_SIMULATOR
2025-10-20 14:25:37,408 - api.services.etap_native_service - INFO - 🚀 ETAP Native Service initialized: EtapConnectionType.MOCK_SIMULATOR
2025-10-20 14:25:37,408 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760981137
2025-10-20 14:25:37,409 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:25:37,510 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: c64748a5-9f94-43ff-a12a-ba36789782a1
2025-10-20 14:25:37,510 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:25:37,519 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760981137
2025-10-20 14:25:37,520 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:25:37,621 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: 7594b623-26b3-41ea-9910-1813654c6327
2025-10-20 14:25:37,621 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:25:37,630 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760981137
2025-10-20 14:25:37,630 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:25:37,732 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: df0b6c8f-1bd0-42f6-8fc7-83bb0740ac95
2025-10-20 14:25:37,732 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:25:37,738 - etap_native_test - INFO - 📈 Performance Monitoring: Metrics collected=True
2025-10-20 14:25:37,738 - etap_native_test - INFO - ✅ Performance Monitoring: PASSED
2025-10-20 14:25:37,738 - etap_native_test - INFO - 
======================================================================
2025-10-20 14:25:37,738 - etap_native_test - INFO - 📋 FINAL REPORT - etapPy™ API Preparation (TODO #6)
2025-10-20 14:25:37,738 - etap_native_test - INFO - ======================================================================
2025-10-20 14:25:37,738 - etap_native_test - INFO - 🎯 Tests Passed: 6/6 (100.0%)
2025-10-20 14:25:37,738 - etap_native_test - INFO - ⏱️ Duration: 30.1s
2025-10-20 14:25:37,738 - etap_native_test - INFO - 📈 Quality Grade: A+
2025-10-20 14:25:37,738 - etap_native_test - INFO - 🏆 Status: PRODUCTION READY
2025-10-20 14:25:37,738 - etap_native_test - INFO - ======================================================================
2025-10-20 14:25:37,739 - etap_native_test - INFO - 📄 Full report saved: outputs/logs/etap_native_test_report_20251020_172537.json
2025-10-20 14:28:18,165 - etap_native_test - INFO - 🚀 Starting etapPy™ API Preparation Test Suite (TODO #6)
2025-10-20 14:28:18,166 - etap_native_test - INFO - ======================================================================
2025-10-20 14:28:18,166 - etap_native_test - INFO - 
🧪 Running: Adapter Factory
2025-10-20 14:28:18,166 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 14:28:18,166 - etap_native_test - INFO - 🏭 Testing Adapter Factory...
2025-10-20 14:28:18,167 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:28:18,167 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:28:18,167 - etap_native_test - INFO - ✅ CSV Bridge: Connection test passed
2025-10-20 14:28:18,167 - api.services.etap_native_adapter - INFO - 🚧 Native API Adapter: Future implementation
2025-10-20 14:28:18,167 - api.services.etap_native_adapter - INFO - 📡 Configured for: localhost:8080
2025-10-20 14:28:19,168 - api.services.etap_native_adapter - INFO - 📤 Native API Adapter disconnected
2025-10-20 14:28:19,168 - etap_native_test - INFO - ✅ Native API: Connection test passed
2025-10-20 14:28:19,168 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:28:19,269 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 14:28:19,269 - etap_native_test - INFO - ✅ Mock Simulator: Connection test passed
2025-10-20 14:28:19,270 - etap_native_test - INFO - 🏭 Adapter Factory: 3 adapters tested
2025-10-20 14:28:19,270 - etap_native_test - INFO - ✅ Adapter Factory: PASSED
2025-10-20 14:28:19,270 - etap_native_test - INFO - 
🧪 Running: Adapter Operations
2025-10-20 14:28:19,270 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 14:28:19,270 - etap_native_test - INFO - ⚙️ Testing Adapter Operations...
2025-10-20 14:28:19,270 - etap_native_test - INFO - 🔧 Testing CSV Bridge...
2025-10-20 14:28:19,270 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:28:19,371 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: 609cddf4-31b5-4888-84f4-a4991e5373e6
2025-10-20 14:28:19,372 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge export completed: outputs/etap_exports/study_test_study_001_fe204682-919e-4fc6-9eb5-fac5ec0afc4a.csv
2025-10-20 14:28:20,174 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:28:20,175 - etap_native_test - ERROR - ❌ CSV Bridge: Operations failed: object of type 'int' has no len()
2025-10-20 14:28:20,175 - etap_native_test - INFO - 🔧 Testing Mock Simulator...
2025-10-20 14:28:20,175 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:28:20,727 - api.services.etap_native_adapter - INFO - 🎭 Mock import completed: 647d5293-11f3-42ff-93de-88a068b8d572
2025-10-20 14:28:23,229 - api.services.etap_native_adapter - INFO - 🔍 Mock coordination analysis: 1 pairs
2025-10-20 14:28:24,731 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 14:28:24,731 - etap_native_test - INFO - ✅ Mock Simulator: All operations completed
2025-10-20 14:28:24,731 - etap_native_test - INFO - ⚙️ Adapter Operations: 1/2 successful
2025-10-20 14:28:24,731 - etap_native_test - INFO - ✅ Adapter Operations: PASSED
2025-10-20 14:28:24,731 - etap_native_test - INFO - 
🧪 Running: Native Service
2025-10-20 14:28:24,731 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 14:28:24,731 - etap_native_test - INFO - 🚀 Testing Native Service...
2025-10-20 14:28:24,732 - etap_native_test - INFO - 🔍 Testing auto-detection...
2025-10-20 14:28:24,732 - api.services.etap_native_service - INFO - 🔍 Auto-detecting best ETAP connection...
2025-10-20 14:28:24,732 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:28:24,732 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:28:24,732 - api.services.etap_native_adapter - INFO - 🚧 Native API Adapter: Future implementation
2025-10-20 14:28:24,732 - api.services.etap_native_adapter - INFO - 📡 Configured for: localhost:8080
2025-10-20 14:28:25,733 - api.services.etap_native_adapter - INFO - 📤 Native API Adapter disconnected
2025-10-20 14:28:25,733 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:28:25,834 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 14:28:25,835 - api.services.etap_native_adapter - INFO - 🚧 Native API Adapter: Future implementation
2025-10-20 14:28:25,835 - api.services.etap_native_adapter - INFO - 📡 Configured for: None:None
2025-10-20 14:28:26,836 - api.services.etap_native_adapter - INFO - ✅ ETAP Adapter initialized: EtapConnectionType.ETAP_API
2025-10-20 14:28:26,915 - api.services.etap_native_service - INFO - 🚀 ETAP Native Service initialized: EtapConnectionType.ETAP_API
2025-10-20 14:28:26,915 - etap_native_test - INFO - 📥 Testing native import...
2025-10-20 14:28:26,915 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760981306
2025-10-20 14:28:26,915 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:28:27,017 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: 4b142096-3ae8-4d94-b73d-17b2abb22b7b
2025-10-20 14:28:27,017 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:28:27,024 - etap_native_test - INFO - 📤 Testing native export...
2025-10-20 14:28:27,024 - api.services.etap_native_service - INFO - 📊 Fallback export: test_study
2025-10-20 14:28:27,031 - api.services.etap_service - ERROR - Database error getting ETAP study test_study: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "test_study"
LINE 3: WHERE relay_configs.etap_studies.id = 'test_study' 
                                              ^

[SQL: SELECT relay_configs.etap_studies.id AS relay_configs_etap_studies_id, relay_configs.etap_studies.uuid AS relay_configs_etap_studies_uuid, relay_configs.etap_studies.name AS relay_configs_etap_studies_name, relay_configs.etap_studies.description AS relay_configs_etap_studies_description, relay_configs.etap_studies.study_type AS relay_configs_etap_studies_study_type, relay_configs.etap_studies.status AS relay_configs_etap_studies_status, relay_configs.etap_studies.plant_reference AS relay_configs_etap_studies_plant_reference, relay_configs.etap_studies.project_code AS relay_configs_etap_studies_project_code, relay_configs.etap_studies.revision AS relay_configs_etap_studies_revision, relay_configs.etap_studies.protection_standard AS relay_configs_etap_studies_protection_standard, relay_configs.etap_studies.frequency AS relay_configs_etap_studies_frequency, relay_configs.etap_studies.base_voltage AS relay_configs_etap_studies_base_voltage, relay_configs.etap_studies.base_power AS relay_configs_etap_studies_base_power, relay_configs.etap_studies.created_by AS relay_configs_etap_studies_created_by, relay_configs.etap_studies.created_at AS relay_configs_etap_studies_created_at, relay_configs.etap_studies.updated_at AS relay_configs_etap_studies_updated_at, relay_configs.etap_studies.completed_at AS relay_configs_etap_studies_completed_at, relay_configs.etap_studies.study_config AS relay_configs_etap_studies_study_config 
FROM relay_configs.etap_studies 
WHERE relay_configs.etap_studies.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'test_study', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-10-20 14:28:27,031 - api.services.etap_integration_service - ERROR - Error exporting study test_study: Failed to get study: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "test_study"
LINE 3: WHERE relay_configs.etap_studies.id = 'test_study' 
                                              ^

[SQL: SELECT relay_configs.etap_studies.id AS relay_configs_etap_studies_id, relay_configs.etap_studies.uuid AS relay_configs_etap_studies_uuid, relay_configs.etap_studies.name AS relay_configs_etap_studies_name, relay_configs.etap_studies.description AS relay_configs_etap_studies_description, relay_configs.etap_studies.study_type AS relay_configs_etap_studies_study_type, relay_configs.etap_studies.status AS relay_configs_etap_studies_status, relay_configs.etap_studies.plant_reference AS relay_configs_etap_studies_plant_reference, relay_configs.etap_studies.project_code AS relay_configs_etap_studies_project_code, relay_configs.etap_studies.revision AS relay_configs_etap_studies_revision, relay_configs.etap_studies.protection_standard AS relay_configs_etap_studies_protection_standard, relay_configs.etap_studies.frequency AS relay_configs_etap_studies_frequency, relay_configs.etap_studies.base_voltage AS relay_configs_etap_studies_base_voltage, relay_configs.etap_studies.base_power AS relay_configs_etap_studies_base_power, relay_configs.etap_studies.created_by AS relay_configs_etap_studies_created_by, relay_configs.etap_studies.created_at AS relay_configs_etap_studies_created_at, relay_configs.etap_studies.updated_at AS relay_configs_etap_studies_updated_at, relay_configs.etap_studies.completed_at AS relay_configs_etap_studies_completed_at, relay_configs.etap_studies.study_config AS relay_configs_etap_studies_study_config 
FROM relay_configs.etap_studies 
WHERE relay_configs.etap_studies.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'test_study', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-10-20 14:28:27,032 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:28:27,032 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge export completed: outputs/etap_exports/study_test_study_ab653dc0-d01d-4a77-bb2a-d13825575a5b.csv
2025-10-20 14:28:27,032 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:28:27,034 - api.services.etap_native_service - ERROR - Sync log failed: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block

[SQL: INSERT INTO relay_configs.etap_sync_logs (sync_type, operation, study_id, status, start_time, end_time, duration, records_processed, records_success, records_failed, source_file, target_file, api_endpoint, api_version, etap_session_id) VALUES (%(sync_type)s, %(operation)s, %(study_id)s, %(status)s, %(start_time)s, %(end_time)s, %(duration)s, %(records_processed)s, %(records_success)s, %(records_failed)s, %(source_file)s, %(target_file)s, %(api_endpoint)s, %(api_version)s, %(etap_session_id)s) RETURNING relay_configs.etap_sync_logs.id]
[parameters: {'sync_type': 'export', 'operation': 'export operation', 'study_id': None, 'status': 'SUCCESS', 'start_time': datetime.datetime(2025, 10, 20, 17, 28, 27, 32707, tzinfo=datetime.timezone.utc), 'end_time': datetime.datetime(2025, 10, 20, 17, 28, 27, 32708, tzinfo=datetime.timezone.utc), 'duration': None, 'records_processed': 1, 'records_success': 0, 'records_failed': 0, 'source_file': None, 'target_file': None, 'api_endpoint': None, 'api_version': None, 'etap_session_id': None}]
(Background on this error at: https://sqlalche.me/e/20/2j85)
2025-10-20 14:28:27,034 - etap_native_test - INFO - 🔍 Testing coordination analysis...
2025-10-20 14:28:27,034 - api.services.etap_native_service - ERROR - Coordination analysis failed: invalid literal for int() with base 10: 'test_study'
2025-10-20 14:28:27,034 - etap_native_test - INFO - 🎯 Testing selectivity analysis...
2025-10-20 14:28:27,035 - api.services.etap_native_service - ERROR - Selectivity analysis failed: invalid literal for int() with base 10: 'test_study'
2025-10-20 14:28:27,035 - etap_native_test - INFO - 🚀 Native Service: 2/4 operations successful
2025-10-20 14:28:27,035 - etap_native_test - INFO - ✅ Native Service: PASSED
2025-10-20 14:28:27,035 - etap_native_test - INFO - 
🧪 Running: Capability Tests
2025-10-20 14:28:27,035 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 14:28:27,035 - etap_native_test - INFO - 🧪 Testing Capability Tests...
2025-10-20 14:28:27,035 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:28:27,136 - api.services.etap_native_adapter - INFO - ✅ ETAP Adapter initialized: EtapConnectionType.MOCK_SIMULATOR
2025-10-20 14:28:27,148 - api.services.etap_native_service - INFO - 🚀 ETAP Native Service initialized: EtapConnectionType.MOCK_SIMULATOR
2025-10-20 14:28:27,149 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:28:27,149 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:28:27,149 - api.services.etap_native_adapter - INFO - 🚧 Native API Adapter: Future implementation
2025-10-20 14:28:27,149 - api.services.etap_native_adapter - INFO - 📡 Configured for: localhost:8080
2025-10-20 14:28:28,150 - api.services.etap_native_adapter - INFO - 📤 Native API Adapter disconnected
2025-10-20 14:28:28,151 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:28:28,252 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 14:28:28,253 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760981308
2025-10-20 14:28:28,253 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:28:28,354 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: 0365dbb9-49fb-4210-95a3-3cdf6cd76047
2025-10-20 14:28:28,354 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:28:28,362 - api.services.etap_native_service - INFO - 📊 Fallback export: test_study
2025-10-20 14:28:28,366 - api.services.etap_service - ERROR - Database error getting ETAP study test_study: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "test_study"
LINE 3: WHERE relay_configs.etap_studies.id = 'test_study' 
                                              ^

[SQL: SELECT relay_configs.etap_studies.id AS relay_configs_etap_studies_id, relay_configs.etap_studies.uuid AS relay_configs_etap_studies_uuid, relay_configs.etap_studies.name AS relay_configs_etap_studies_name, relay_configs.etap_studies.description AS relay_configs_etap_studies_description, relay_configs.etap_studies.study_type AS relay_configs_etap_studies_study_type, relay_configs.etap_studies.status AS relay_configs_etap_studies_status, relay_configs.etap_studies.plant_reference AS relay_configs_etap_studies_plant_reference, relay_configs.etap_studies.project_code AS relay_configs_etap_studies_project_code, relay_configs.etap_studies.revision AS relay_configs_etap_studies_revision, relay_configs.etap_studies.protection_standard AS relay_configs_etap_studies_protection_standard, relay_configs.etap_studies.frequency AS relay_configs_etap_studies_frequency, relay_configs.etap_studies.base_voltage AS relay_configs_etap_studies_base_voltage, relay_configs.etap_studies.base_power AS relay_configs_etap_studies_base_power, relay_configs.etap_studies.created_by AS relay_configs_etap_studies_created_by, relay_configs.etap_studies.created_at AS relay_configs_etap_studies_created_at, relay_configs.etap_studies.updated_at AS relay_configs_etap_studies_updated_at, relay_configs.etap_studies.completed_at AS relay_configs_etap_studies_completed_at, relay_configs.etap_studies.study_config AS relay_configs_etap_studies_study_config 
FROM relay_configs.etap_studies 
WHERE relay_configs.etap_studies.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'test_study', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-10-20 14:28:28,366 - api.services.etap_integration_service - ERROR - Error exporting study test_study: Failed to get study: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "test_study"
LINE 3: WHERE relay_configs.etap_studies.id = 'test_study' 
                                              ^

[SQL: SELECT relay_configs.etap_studies.id AS relay_configs_etap_studies_id, relay_configs.etap_studies.uuid AS relay_configs_etap_studies_uuid, relay_configs.etap_studies.name AS relay_configs_etap_studies_name, relay_configs.etap_studies.description AS relay_configs_etap_studies_description, relay_configs.etap_studies.study_type AS relay_configs_etap_studies_study_type, relay_configs.etap_studies.status AS relay_configs_etap_studies_status, relay_configs.etap_studies.plant_reference AS relay_configs_etap_studies_plant_reference, relay_configs.etap_studies.project_code AS relay_configs_etap_studies_project_code, relay_configs.etap_studies.revision AS relay_configs_etap_studies_revision, relay_configs.etap_studies.protection_standard AS relay_configs_etap_studies_protection_standard, relay_configs.etap_studies.frequency AS relay_configs_etap_studies_frequency, relay_configs.etap_studies.base_voltage AS relay_configs_etap_studies_base_voltage, relay_configs.etap_studies.base_power AS relay_configs_etap_studies_base_power, relay_configs.etap_studies.created_by AS relay_configs_etap_studies_created_by, relay_configs.etap_studies.created_at AS relay_configs_etap_studies_created_at, relay_configs.etap_studies.updated_at AS relay_configs_etap_studies_updated_at, relay_configs.etap_studies.completed_at AS relay_configs_etap_studies_completed_at, relay_configs.etap_studies.study_config AS relay_configs_etap_studies_study_config 
FROM relay_configs.etap_studies 
WHERE relay_configs.etap_studies.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'test_study', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-10-20 14:28:28,366 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:28:28,367 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge export completed: outputs/etap_exports/study_test_study_a61e1691-54dd-4b41-a0a7-2ced206e7aa3.csv
2025-10-20 14:28:28,367 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:28:28,371 - api.services.etap_native_service - ERROR - Sync log failed: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block

[SQL: INSERT INTO relay_configs.etap_sync_logs (sync_type, operation, study_id, status, start_time, end_time, duration, records_processed, records_success, records_failed, source_file, target_file, api_endpoint, api_version, etap_session_id) VALUES (%(sync_type)s, %(operation)s, %(study_id)s, %(status)s, %(start_time)s, %(end_time)s, %(duration)s, %(records_processed)s, %(records_success)s, %(records_failed)s, %(source_file)s, %(target_file)s, %(api_endpoint)s, %(api_version)s, %(etap_session_id)s) RETURNING relay_configs.etap_sync_logs.id]
[parameters: {'sync_type': 'export', 'operation': 'export operation', 'study_id': None, 'status': 'SUCCESS', 'start_time': datetime.datetime(2025, 10, 20, 17, 28, 28, 367787, tzinfo=datetime.timezone.utc), 'end_time': datetime.datetime(2025, 10, 20, 17, 28, 28, 367788, tzinfo=datetime.timezone.utc), 'duration': None, 'records_processed': 1, 'records_success': 0, 'records_failed': 0, 'source_file': None, 'target_file': None, 'api_endpoint': None, 'api_version': None, 'etap_session_id': None}]
(Background on this error at: https://sqlalche.me/e/20/2j85)
2025-10-20 14:28:28,371 - api.services.etap_native_service - INFO - 📊 Fallback coordination analysis: test_study
2025-10-20 14:28:28,371 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:28:30,474 - api.services.etap_native_adapter - INFO - 🔍 Mock coordination analysis: 0 pairs
2025-10-20 14:28:30,474 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 14:28:30,474 - api.services.etap_native_service - INFO - 💾 Syncing coordination results to database...
2025-10-20 14:28:30,474 - api.services.etap_native_service - ERROR - Sync log failed: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block

[SQL: INSERT INTO relay_configs.etap_sync_logs (sync_type, operation, study_id, status, start_time, end_time, duration, records_processed, records_success, records_failed, source_file, target_file, api_endpoint, api_version, etap_session_id) VALUES (%(sync_type)s, %(operation)s, %(study_id)s, %(status)s, %(start_time)s, %(end_time)s, %(duration)s, %(records_processed)s, %(records_success)s, %(records_failed)s, %(source_file)s, %(target_file)s, %(api_endpoint)s, %(api_version)s, %(etap_session_id)s) RETURNING relay_configs.etap_sync_logs.id]
[parameters: {'sync_type': 'export', 'operation': 'export operation', 'study_id': None, 'status': 'SUCCESS', 'start_time': datetime.datetime(2025, 10, 20, 17, 28, 28, 367787, tzinfo=datetime.timezone.utc), 'end_time': datetime.datetime(2025, 10, 20, 17, 28, 28, 367788, tzinfo=datetime.timezone.utc), 'duration': None, 'records_processed': 1, 'records_success': 0, 'records_failed': 0, 'source_file': None, 'target_file': None, 'api_endpoint': None, 'api_version': None, 'etap_session_id': None}]
(Background on this error at: https://sqlalche.me/e/20/2j85) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-10-20 14:28:30,474 - api.services.etap_native_service - INFO - 📊 Fallback selectivity analysis: test_study
2025-10-20 14:28:30,474 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:28:32,076 - api.services.etap_native_adapter - INFO - 📤 Mock Simulator Adapter disconnected
2025-10-20 14:28:32,077 - api.services.etap_native_service - INFO - 💾 Syncing selectivity results to database...
2025-10-20 14:28:32,077 - api.services.etap_native_service - ERROR - Sync log failed: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block

[SQL: INSERT INTO relay_configs.etap_sync_logs (sync_type, operation, study_id, status, start_time, end_time, duration, records_processed, records_success, records_failed, source_file, target_file, api_endpoint, api_version, etap_session_id) VALUES (%(sync_type)s, %(operation)s, %(study_id)s, %(status)s, %(start_time)s, %(end_time)s, %(duration)s, %(records_processed)s, %(records_success)s, %(records_failed)s, %(source_file)s, %(target_file)s, %(api_endpoint)s, %(api_version)s, %(etap_session_id)s) RETURNING relay_configs.etap_sync_logs.id]
[parameters: {'sync_type': 'export', 'operation': 'export operation', 'study_id': None, 'status': 'SUCCESS', 'start_time': datetime.datetime(2025, 10, 20, 17, 28, 28, 367787, tzinfo=datetime.timezone.utc), 'end_time': datetime.datetime(2025, 10, 20, 17, 28, 28, 367788, tzinfo=datetime.timezone.utc), 'duration': None, 'records_processed': 1, 'records_success': 0, 'records_failed': 0, 'source_file': None, 'target_file': None, 'api_endpoint': None, 'api_version': None, 'etap_session_id': None}]
(Background on this error at: https://sqlalche.me/e/20/2j85) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-10-20 14:28:32,077 - etap_native_test - INFO - 🧪 Capability Tests: Connectivity=True, Operations=True
2025-10-20 14:28:32,077 - etap_native_test - INFO - ✅ Capability Tests: PASSED
2025-10-20 14:28:32,077 - etap_native_test - INFO - 
🧪 Running: API Endpoints
2025-10-20 14:28:32,077 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 14:28:32,077 - etap_native_test - INFO - 🌐 Testing API Endpoints...
2025-10-20 14:28:36,471 - etap_native_test - INFO - ✅ GET /etap-native/auto-detect: 200
2025-10-20 14:28:38,595 - etap_native_test - INFO - ✅ GET /etap-native/status: 200
2025-10-20 14:28:45,667 - etap_native_test - INFO - ✅ POST /etap-native/test-capabilities: 200
2025-10-20 14:28:47,782 - etap_native_test - INFO - ✅ GET /etap-native/health: 200
2025-10-20 14:28:47,782 - etap_native_test - INFO - 🌐 API Endpoints: 4/4 successful
2025-10-20 14:28:47,782 - etap_native_test - INFO - ✅ API Endpoints: PASSED
2025-10-20 14:28:47,782 - etap_native_test - INFO - 
🧪 Running: Performance Monitoring
2025-10-20 14:28:47,782 - etap_native_test - INFO - --------------------------------------------------
2025-10-20 14:28:47,782 - etap_native_test - INFO - 📈 Testing Performance Monitoring...
2025-10-20 14:28:47,783 - api.services.etap_native_adapter - INFO - 🧪 Mock Simulator Adapter connected
2025-10-20 14:28:47,884 - api.services.etap_native_adapter - INFO - ✅ ETAP Adapter initialized: EtapConnectionType.MOCK_SIMULATOR
2025-10-20 14:28:47,891 - api.services.etap_native_service - INFO - 🚀 ETAP Native Service initialized: EtapConnectionType.MOCK_SIMULATOR
2025-10-20 14:28:47,891 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760981327
2025-10-20 14:28:47,891 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:28:47,992 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: bca03cc9-1a9d-4ee9-96e9-6dd4e1d4b4fb
2025-10-20 14:28:47,993 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:28:48,000 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760981328
2025-10-20 14:28:48,001 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:28:48,102 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: 1c506dc2-966e-4cee-8bd8-35fb62fc1cdf
2025-10-20 14:28:48,102 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:28:48,112 - api.services.etap_native_service - INFO - 📊 Fallback import: import_1760981328
2025-10-20 14:28:48,112 - api.services.etap_native_adapter - INFO - 🔗 CSV Bridge Adapter connected
2025-10-20 14:28:48,213 - api.services.etap_native_adapter - INFO - 📊 CSV Bridge import completed: 9749d145-3a1a-46c1-b2a5-6931e75afe30
2025-10-20 14:28:48,213 - api.services.etap_native_adapter - INFO - 📤 CSV Bridge Adapter disconnected
2025-10-20 14:28:48,222 - etap_native_test - INFO - 📈 Performance Monitoring: Metrics collected=True
2025-10-20 14:28:48,222 - etap_native_test - INFO - ✅ Performance Monitoring: PASSED
2025-10-20 14:28:48,222 - etap_native_test - INFO - 
======================================================================
2025-10-20 14:28:48,222 - etap_native_test - INFO - 📋 FINAL REPORT - etapPy™ API Preparation (TODO #6)
2025-10-20 14:28:48,222 - etap_native_test - INFO - ======================================================================
2025-10-20 14:28:48,222 - etap_native_test - INFO - 🎯 Tests Passed: 6/6 (100.0%)
2025-10-20 14:28:48,222 - etap_native_test - INFO - ⏱️ Duration: 30.1s
2025-10-20 14:28:48,222 - etap_native_test - INFO - 📈 Quality Grade: A+
2025-10-20 14:28:48,222 - etap_native_test - INFO - 🏆 Status: PRODUCTION READY
2025-10-20 14:28:48,222 - etap_native_test - INFO - ======================================================================
2025-10-20 14:28:48,223 - etap_native_test - INFO - 📄 Full report saved: outputs/logs/etap_native_test_report_20251020_172848.json
